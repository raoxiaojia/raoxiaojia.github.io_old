\documentclass[a4paper]{article}

\input{temp}

\setcounter{section}{-1}

\begin{document}

\title{Topics in Set Theory}

\maketitle

\newpage

\tableofcontents

\newpage

\section{Introduction}

---Lecture 1---

Example classes: 4th Feb, 18th Feb, 4th Mar 330-5pm MR5; fourth class undecided (probably on 15th).

Although the name of this course is \emph{Topics} in Set theory, for all of its history only one topic is discussed. So maybe this course should be called \emph{One Topic in Set Theory}, or probably just \emph{the Continuum Hypothesis}: in this course we'll just solve one problem: the continuum problem, which we've known in the end that the problem is independent from ZFC.

Let's have some background stories first. In the second ICM congress (1900, Paris), Hilbert posed the famous 23 Hilbert questions, with the first one being the Continuum Hypothesis (a hypothesis at that time). The original formulation of CH was:

\emph{Any infinite subset of real numbers is either equinumerous to the set of natural numbers, or to the set of real numbers}.

We could definitely formulate it better, but that is less important. More modern version of CH would be a short equation
$$2^{\aleph_0} = \aleph_1$$
which seemingly has nothing to do with the previous problem. However, in ZFC these two statements are equivalent:\\
$\bullet$ if $2^{\aleph_0} > \aleph_1$, in particular, $2^{\aleph_0} \geq \aleph_2$. Since $2^{\aleph_0} \sim \R$, we get an injection $i:\aleph_2 \to \R$. Consider $X:=i[\aleph_1] \subseteq \R$. Clearly, $i \uparrow \aleph_1$ ($i$ restricted to $\aleph_1$) is a bijection between $\aleph_1$ and $X$, so $X \sim \aleph_1$; but $\aleph_1$, being uncountable, is not in bijection with natural numbers, and is not in bijection with real numbers. Thus $X$ refutes CH.

If $2^{\aleph_0} = \aleph_1$, let $X \subseteq \R$. Consider $b:2^{\aleph_0} \to \R$ a bijection. If $X$ is infinite, then $b^{-1}[X] \subseteq 2^{\aleph_0}$. Thus the cardinality of $X$ is either $\aleph_0$ or $\aleph_1$ (which $\sim \N$ and $\R$ respectively). So $2^{\aleph_0} = \aleph_1 \implies$ CH.

In 1938, G\"{o}del proved that ZFC does not prove $\neg$CH, and in 1961 Cohen proved that ZFC does not prove CH, by methods of \emph{inner models} and \emph{forcing} (sometimes also called \emph{outer models}, which is not incorrect) respectively. The latter has become the most important method in Set theory since then.

From logic (see Part II Logic and Set Theory) we have G\"{o}del's Completeness Theorem: a theory $T$ is consistent iff it has a model. So from the above two statements, it seems that we're going to prove that there are models for ZFC+CH and ZFC+$\neg$CH; but this is obviously not possible because of the incompleteness phenomenon: we know we can't prove the consistency of ZFC (as a result, we can't even prove there is a model of ZFC)! So instead we could only prove the following:
$$Cons(ZFC) \to Cons(ZFC+CH)$$
or equivalently, if $M \vDash ZFC$, then there is $N \vDash ZFC+CH$ (and similar for the other half).

\newpage

\section{Model theory of set theory}

\subsection{Absoluteness}

For a moment, we will assume that we have a model $(M,\in) \vDash ZFC$. Unfortunately this first assumption doesn't make much sense, because model theory is based on set theory and we don't have anything if ZFC is inconsistent. We refer to the canonical objects in $M$ by the usual symbols, e.g. $0,1,2,3,4,...,\omega,\omega+1,...$.

What would an \emph{inner model} be? Take $A \subseteq M$, and consider $(A,\in)$. It is a substructure of $(M,\in)$, because there are no function symbols or constant symbols in the language of set theory. This might be counterintuitive, because we're using symbols like $\phi$ and $\{\cdot\}$ all the time! However, these are technically not part of language of set theory as they can all be defined without any use of function symbols, i.e. they are just abbreviations. For example, $X=\phi$ abbreviates $\forall w (\neg w \in X)$; $X=\{Y\}$ abbreviates $\forall w (w \in X \iff w = Y)$, and similarly for $\cup$ and $\mathcal{P}$; and also for relation symbols such as $\subseteq$, which abbreviates $\forall w (w \in X \to w \in Y)$. Note that $X=\phi$ is NOT the formula that it looks like; in particular, it is not quantifier free (because it abbreviates $\forall w (\neg w \in X)$)! So we need to take extra care when we do things in this course.

\begin{defi}
If $\varphi$ is a formula in $n$ free variables, we say $\varphi$ is \emph{upwards absolute} between $A$ and $M$ if for all $a_1,...,a_n \in A$,
$$(A,\in) \vDash \varphi(a_1,...,a_n) \implies (M,\in) \vDash \varphi(a_1,...,a_n)$$
and we say $\varphi$ is \emph{downwards absolute} between $A$ and $M$ if for all $a_1,...,a_n \in A$,
$$(M,\in) \vDash \varphi(a_1,...,a_n) \implies (A,\in) \vDash \varphi(a_1,...,a_n)$$
and $\varphi$ is \emph{absolute} between $A$ and $M$ if it is both upwards and downwards absolute.
\end{defi}

Observation:\\
(a) If $\varphi$ is \emph{quantifier-free}, then $\varphi$ is absolute between $A$ and $M$. But this doesn't really help much, because almost nothing is quantifier-free: without quantifiers we can only say things like $A \in B$ and $A=B$, and conjunctions of those; that's pretty much all.\\
(b) We say that a formula is $\Sigma_1$ if it is of the form
$$\exists x_1 ... \exists x_n \varphi(x_1,...,x_n)$$
where $\varphi$ is q.f.;\\
we say a formula is $\Pi_1$ if it is of the form
$$\forall x_1 ... \forall x_n \varphi(x_1,...,x_n)$$
where $\varphi$ is q.f..\\
(c) If $\varphi$ is $\Pi_1$, it is downward absolute; if it's $\Sigma_1$ then it is upwards absolute. So in particular, note that $X=\phi$ is downward absolute.

---Lecture 2---

As an example, write $0,1,2,3,...$ for the ordinals in $M$, and let $A:=M \setminus \{1\}$. In $A$, we have $0,2$, but no $1$; we also have $\{1\}$. If we use $\Phi_0(x)$ to denote the formula $\forall w (\neg w \in x) \iff x = \phi$. Clearly $(M,\in) \vDash \Phi_0(0)$, so by $\pi_1$-downwards absoluteness, $(A,\in) \vDash \Phi_0(0)$.\\
Now, how many elements does $2=\{0,1\}$ have? In $M$ we obviously know $2$ has $2$ elements; but in $A$, $2$ only has one element $0$, and $\{1\}$ has no element: $(A,\in) \vDash \Phi_0(\{1\})$! Clearly $(M,\in) \not\vDash \Phi_0(\{1\})$, so $\Phi_0$ is not absolute between $A$ and $M$. As a corollary, we get $(A,\in) \not\vDash$ extensionality (we can uniquely specify sets by specifying their elements).

\begin{rem}
We could go on, defining formulas $\Phi_1(x),\Phi_2(x)$, etc to analyse which of the elements correspond to the natural numbers in $A$.
\end{rem}

Reminder (from Part II Logic and Set Theory): we say $A$ is \emph{transitive in $M$} if for all $a \in A$ and $x \in M$ s.t. $(M,\in) \vDash x \in a$, we have $x \in A$. The problem for the above $A$ is that it is not transitive. As long as that is fixed, we have the following:

\begin{prop}
If $A$ is transitive, then $\Phi_0$ is absolute between $A$ and $M$.
\begin{proof}
Since $\Phi_0$ is $\Pi_1$, we only need to show upwards absoluteness. Suppose $a \in A$ s.t. $(A,\in) \vDash \Phi_0(a)$, and suppose for contradiction that $a \neq 0$. Then there is some $x \in a$. By transitivity, $x \in A$. But then $\Phi_0(a): \forall w (w \not\in a)$ is not true in $(A,\in)$.
\end{proof}
\end{prop}

Similarly, if $\Phi_n$ is the formula describing the natural number $n$, and there is $a \in A$ s.t. $(A,\in) \vDash \Phi_n(a)$, and $A$ is transitive, then $a=n$.

\begin{prop}
If $A$ is transitive in $M$, then $(A,\in) \vDash$ extensionality.
\begin{proof}
Take $a,b \in A$ with $a \neq b$. So by extensionality in $(M,\in)$, find, WLOG some $c \in a \setminus b$. Since $c \in a \in A$, by transitivity $c \in A$. Note that all of these quantifier-free formulas are absolute, so $(A,\in)$ also models them; in particular, $(A,\in) \vDash c \in a,c \not\in b$. So $a,b$ do not satisfy the assumptions of extensionality.
\end{proof}
\end{prop}

Consider now $A=\omega+2 = \{0,1,2,...,\omega,\omega+1\} \subseteq M$. This is clearly transitive subset of $M$ because it's an ordinal. So $(A,\in) \vDash$ extensionality, but clearly it isn't anything like a model of set theory as it is too thin. Consider the formula $x=\mathcal{P}(y)$. Unfortunately, this is not a formula, as $\mathcal{P}$ is undefined. We have to expand it properly:
\begin{equation*}
\begin{aligned}
&x = \mathcal{P}(y)\\
\iff &x=\{z;z \subseteq y\}\\
\iff &\forall w (w \in x \leftrightarrow w \subseteq y)\\
\iff &\forall w (w \in x \leftrightarrow(\forall v (v \in w \to v \in y)))
\end{aligned}
\end{equation*}

In $A$, what is $\mathcal{P}(\omega)$? We have $(A,\in) \vDash \omega+1 = \mathcal{P}(\omega)$, which is obviously not what we want for $\mathcal{P}(\omega)$ to be.

\begin{defi} (Bounded quantification)\\
We first define the notations $\exists v \in w\ \varphi$ to be $\exists v (v \in w \wedge \phi)$, and $\forall v \in w\ \varphi$ to be $\forall v (v \in w \to \phi)$, and we call these quantifiers \emph{bounded}.\\
Now we say a formula $\varphi$ is $\triangle_0$ if it is in the smallest set $S$ of formulas with the following properties:\\
1. All q-f formulas are in $S$;\\
2. If $\varphi,\psi \in S$, then so are:
\begin{itemize}
\item[] 2a. $\varphi \wedge \psi$, $\varphi \vee \psi$, $\varphi \to \psi$, $\varphi \leftrightarrow \psi$;\\
2b. $\neg \varphi$;\\
2c. $\exists x \in w\ \varphi$, $\forall v \in w\ \varphi$.
\end{itemize}
\end{defi}

\begin{thm}
If $\varphi$ is $\triangle_0$ and $A$ is transitive, then $\varphi$ is absolute between $A$ and $M$.
\begin{proof}
We already know that quantifier free formulas are absolute, and absoluteness is obviously preserved under propositional connectives. The only case left is (2c).\\
Let's just do $\varphi \to \exists v \in w\ \varphi = \exists v (v \in w \wedge \varphi)$. So suppose $\varphi$ is absolute. We need to deal with downwards absoluteness: we have $(M,\in) \vDash \exists v \in a \varphi(v,a)$ for some $a \in A$, i.e. $(M,\in) \vDash \exists v (v \in a \wedge (\varphi(v,a))$.\\
Let's find $m \in M$ s.t. $(M,\in) \vDash m \in a \wedge \varphi(m,a)$.\\
Now $m\in a\in A$, so $m \in A$. By absoluteness of $\varphi$, we get $(A,\in) \vDash m \in a \wedge \varphi(m,a) \implies (A,\in) \vDash \exists v \in a \varphi(v,a)$.
\end{proof}
\end{thm}

Let $T$ be any \emph{set theory}. Then we say that $\varphi$ is $\triangle_0^T$ if there is a $\triangle_0$ formula $\psi$ s.t. $T \vdash \varphi \leftrightarrow \psi$. So we get, as a corollary:

\begin{coro}
If $A$ is transitive in $M$, and both $(M,\in)$ and $(A,\in)$ are models of $T$, then $\triangle_0^T$ formulas are absolute between $A$ and $M$.\\
We may also define $\Sigma_1^T$ formulas to be the formulas that are $T$-equivalent to $\exists v_1 ... \exists v_n \psi$ where $\psi$ is $\triangle_0$, and similarly for $\Pi_1^T$ formulas. So $\Sigma_1^T$($\Pi_1^T$) formulas are upwards(downwards) absolute between $A$ and $M$ respectively.
\end{coro}

On Wednesday we will look at what formulas are actually in these classes.

---Lecture 3---

Last time we fixed some \emph{set theory} $T$, and defined formula classes $\triangle_0^T$, $\Sigma_0^T$ and $\Pi_1^T$. We showed that $\triangle_0^T$ formulas are absolute between $A,M$ if $A$ is transitive and $A,M \vDash T$, and also $\Sigma_1^T$ and $\Pi_1^T$ upwards and downwards respectively.

Even if you haven't paid attention you would have realize that we have some 0 and some 1 as subscripts here. So what is $\Delta_1^T$?

\begin{defi}
A formula is $\Delta_1^T$ if it is both $\Sigma_1^T$ and $\Pi_1^T$.\\
Note that this definition is only possible upon taking equivalence classes on $T$, else no formula could be both $\Sigma_1$ and $\Pi_1$.
\end{defi}

\begin{coro}
If $A$ is transitive, $A,M \vDash T$, and $\phi$ is $\Delta_1^T$, then $\phi$ is absolute between $A$ and $M$.
\end{coro}

Now we have to think of what a \emph{set theory} is. We have to think of which axioms we're using. Preferably we would have extensionality, and then let's have pairing, union, power set, separation.\\
We denote this by $FST_0$ (finite set theory), with the $0$ denoting that we don't have foundation yet. We use $FST$ to denote $FST_0$+foundation(regularity).\\
Now if we add infinity in, we reach the original version of Zermelo set theory $Z_0$. However, nowadays we often call $Z=Z_0$+foundation the Zermelo set theory.\\
For ordinary people these are enough (or far more than enough). But set-theorists realized later that they need replacement; we call this $ZF_0$ (of course $ZF$ for the version with foundation). And lastly if we add choice in we get $ZFC_0$ (with foundation we get $ZFC$).

\subsection{Long List of $\Delta_0^T$ formulas}

Now we find a long list of $\Delta_0^T$ formulas. We start with the more trivial ones:\\
1. $x\in y$;\\
2. $x=y$;\\
These two are $\Delta_0$ without $T$ needed.\\
3. $x \subseteq y$. Apparently this is not a formula: we think it means $\forall w (w \in x \to w \in y)$, which we might abbreviate it as $\forall w \in x (w \in y)$, which is exactly the (2c) in definition of $\Delta_0$. So this is $\Delta_0$ without $T$ as well.\\
4. $\Phi_0(x): \forall w (w \not\in x) :\iff \forall w(\neg w \in x)$. If you took part II Logic and Set theory, you'll disagree that this is a formula, because $\neg$ is not a thing; but let's not be so parsimonious on the syntax, but write it as $\forall w (w \in x \to \neg x =x)$, so this is also $\Delta_0$ in predicate logic.

We say that an operation $x_1,...,x_n \to F(x_1,...,x_n)$ is defined by a formula in class $\Gamma$ (where $\Gamma$ is any class of formulas) in the theory $T$ if there is a formula $\Psi \in \Gamma$ s.t. \\
(1) $T \vdash \forall x_1...\forall x_n \exists y \Psi(x_1,...,x_n,y)$;\\
(2) $T \vdash \forall x_1...\forall x_n \forall y,z$ $\Psi(x_1,...,x_n,y) \wedge \Psi(x_1,...,x_n,z) \to y=z$;\\
(3) $\Psi(x_1,...,x_n,y)$ iff $y=F(x_1,...,x_n)$.\\
Note that the first two are formal requirements, but the last one is an informal requirement as we haven't defined what $F$ is.

Examples: $x \to \{x\}$, $x,y \to \{x,y\}$ (these are opeartions in $FST_0$). Note that these are informal because notations like $\{\cdot\}$ are undefined.

Let's now continue our lists:\\
5. $x \to \{x\}$. We need a formula $\Psi(x,z) \leftrightarrow$ '$z=\{x\}$' $\leftrightarrow \forall w(w \in z \leftrightarrow w=x)$.\\
This is not $\Delta_0$ yet because we have a $\leftrightarrow$ here. We rewrite it as\\
$\forall w ((w \in z \to w=x) \wedge (w=x \to w \in z))$, but the second part is not $\Delta_0$. So we again rewrite it as\\
$\exists w \in z(w=w) \wedge \forall w \in z (w \in z \to w =x)$. So this is $\Delta_0$, with some very weak set theory being sufficient.\\
Similar to 5, we also have\\
6. $x,y \to \{x,y\}$;\\
7. $x,y \to x \cup y$;\\
8. $x,y \to x \cap y$;\\
9. $x,y \to x \setminus y$;\\
10. $x,y \to (x,y)$, the ordered pair, where we define it as $\{\{x\},\{x,y\}\}$. Note that we could apply 5 and 6 (twice) to get this one.\\
The last one gives us the motivation that if two operations $f,g_1,...,g_k$ are defined by $\Delta_0^T$-formulas, then so is the operation\\
$$x_1,...,x_n \to f(g_1(x_1,...,x_n),...,g_k(x_1,...,x_n))$$

We then naturally have\\
11. $x \to x \cup \{x\} := S(x)$ (by the previous fact from 5 and 7).\\
12. $x \to \cup x$; (obvious if we write this fully out)\\
13. the formula $\varphi$ describing "$x$ is transitive".\\
14. the formula describing $x$ is an ordered pair. At first look it looks like this is unbounded	, but that's not the case: the quantifiers for the two components of $x$ are bounded by $\cup x$.\\
15. $a,b \to a \times b$;\\
16. the formula "$x$ is a binary relation";\\
17. $x \to \dom(x) := \{y: \exists p \in x (p$ is an ordered pairs, $p=(v,w), y=v)\}$;\\
18. $x \to range(x):= \{y: \exists p \in x(p$ is an ordered pair and $p=(v,y))\}$;\\
19. the formula '$x$ is a function';\\
20. the formula '$x$ is injective';\\
21. the formula '$x$ is a function from $A$ to $B$';\\
22. the formula '$x$ is a surjection from $A$ to $B$';\\
23. the formula '$x$ is a bijection from $A$ to $B$'.\\
Note that we've only used some very few axioms: union, pairing and some finite version of separation, and nothing more.\\

Let's also agree on the definition of an ordinal: $\alpha$ is an ordinal if $\alpha$ is a transitive set well-ordered by $\in$. Of course we have to also agree on what being well-ordered means: it's totally ordered + well-founded, i.e. $\forall X (X \subseteq \alpha \to X$ has a $\in$-least element).

Being totally ordered is $\Delta_0$ formula (check); however, the sentence $(X,R)$ being well-founded is not obviously absolute, since the bound for the $\forall Z (Z \subseteq X ...)$ quantifier is the power set. We'll talk about absoluteness of well-foundedness on Friday.

However, we don't actually need the general well-foundedness; we only need well-foundedness by $\in$, but that is given by axiom of foundation! So in models with the axiom of foundation, $\alpha$ is an ordinal iff $\alpha$ is transitive and totally ordered by $\in$.	

---Lecture 4---

We're still on our list of things that are absolute for transitive models. We ended with ordinals last time, where we defined that $x$ is an ordinal iff $x$ is transitive and $(x,\in)$ is a well-order. We went into an issue there, because that consists of $(x,\in)$ is a total order, which is fine; but then it also needs $\in$ is a well-founded relation on $x$, which is only $\Pi_1$. The good side is that if $T$ contains the axiom of foundation, then $\Phi_{ord}(x)$ is equivalent to $x$ is transitive and $(x,\in)$ is a total order (as the last part is guaranteed), which is $\Delta_0^T$. Therefore we can expand our list:

24. '$x$ is an ordinal' is $\Delta_0^T$ (for the right choice of $T$);\\
This is not as harmless as before, because we actually need $T$ to include the axiom of foundation.\\
25. '$x$ is a successor ordinal', which is equivalent to '$x$ is an ordinal' and $\exists y \in x (y$ is the $\in$-largest element of $x$);\\
26. '$x$ is a limit ordinal';\\
27. $x=\omega$ (the smallest limit ordinal; similarly, $x=\omega+\omega$, $x=\omega+1$, $x=\omega+\omega+1$, $x=\omega^2$, $x=\omega^3$, $x=\omega^\omega$, ...)\\

\subsection{Absoluteness of well-foundedness}

If $(X,R)$ is well-founded, we can define a rank function $rk:X \to \alpha$, where $\alpha$ is some ordinal, s.t. $rk$ is order-preserving between $(X,R)$ and $(\alpha,\in)$. This theorem is proved using the right instances of Replacement. In particular, ZF proves:\\
$(X,R)$ is well-founded $\iff \exists \alpha \exists f$ $\alpha$ is an ordinal, and $f$ is an order-preserving function from $(X,R)$ to $(\alpha,\in)$. RHS is $\Sigma_1^{ZF}$, and LHS is $\Pi_1^{ZF}$. Thus for sufficiently strong $T$, $(X,R)$ is well-founded is $\Delta_1^T$ and hence absolute for transitive models of $T$.

We generalize this to concepts defined by transfinite recursion. But first let's recall what it is: let $(X,R)$ be well-founded, let $F$ be 'functional', so for every $x$ there is a unique $y$ s.t. $x=F(y)$. Then there is a unique $f$ with domain $X$ and for all $x \in X$, $f(x) = F(f|IS_R(x))$, where $IS_R(x) = \{z \in x: z R x\}$.

\begin{prop}
Let $T$ be a set theory that is strong enough to prove the transfinite recursion theorem for $F$. Let $F$ be absolute for transfinite models of $T$. Let $(X,R)$ be in $A$. Then $f$ defined by transfinite recursion is absolute between $A$ and $M$.
\end{prop}

\begin{eg}
Let $L$ be any first-order language whose symbols are all in $A$. Then the set of $L$-formulas and the set of $L$-sentences are in $A$.\\
The relation $S \vDash \varphi$ (note that this is not q-f, although it is bounded by $S$) is defined by recursion, and thus is absolute between $A$ and $M$.\\
So: if $S$ is an $L$-structure, $S \in A$,\\
$(A,\in) \vDash $'$S \vDash \varphi$'$ \iff (M,\in) \vDash $'$S \vDash \varphi$'.
\end{eg}

G\"{o}del's incompleteness theorem roughly says that, if $T$ is a theory whose set of axioms are recursive enumerable, and its axioms are strong enough to do some arithmetics, then $T \not\vdash Cons(T)$ (which is a sentence in $L$). Examples for $T$: PA, Z, ZF, ZFC, ZFC+$\varphi$ any one additional formula.\\
In particular, $ZFC^* := ZFC + Cons(ZFC) \not\vdash Cons(ZFC+Cons(ZFC))$.

By completeness theorem, $Cons(T) \iff \exists M (M \vDash T)$. Note that LHS is $\Pi_1$ and RHS is $\Sigma_1$, so completeness theorem tells us that this is a $\Delta_1$ concept. Note also that LHS is a bounded concept, since all quantifiers are bounded (LHS is $\Delta_0^Z$).

Now write $\beta$ for 'there is a transitive set $A$ s.t. $(A,\in) \vDash ZFC$'. Note that this is stronger than the consistency of ZFC as it also specifies that there is a particular model for it. In particular, we can't prove it even in $ZFC^*$:

\begin{thm}
If $ZFC^*$ is consistent, then $ZFC^* \not\vdash \beta$.
\begin{proof}
Let $(M,\in) \vDash ZFC^*$. Suppose $ZFC^* \vdash \beta$. So $(M,\in) \vDash \beta$. So we found a transitive set $A$ in $M$ s.t. $(A,\in)$ is a model of $ZFC$. By assumption, $(M,\in) \vDash Cons(ZFC)$, so $(A,\in) \vDash Cons(ZFC)$ since $Cons(ZFC)$ is absolute between transitive models. So $(A,\in) \vDash ZFC^*$. So we proved $Cons(ZFC^*)$, contradicting G\"{o}del's incompleteness theorem.
\end{proof}
\end{thm}

That means that assuming $\beta$ is not an obvious assumption, so we need to study under which (natural) assumptions $\beta$ is true.

\subsection{Concrete transitive models of ZFC}

So let's investigate transitive models $A$ inside $M$. The two most basic constructions: \\
(1) von Neumann hierarchy (cumulative hierarchy);\\
(2) hereditarily small sets.

(1) is defined as follows by transfinite recursion: $V_0:=\phi$, $V_{\alpha+1} := \mathcal{P}(V_\alpha)$, $V_\lambda := \cup_{\alpha<\lambda} V_\alpha$ for $\lambda$ being limit ordinals.

\begin{prop}
$\forall \alpha V_\alpha$ is transitive (see Part II Logic and Set Theory). [Induction, with key lemma: if $X$ is transitive, then $\mathcal{P}(X)$ is transitive]
\end{prop}

If $\lambda$ is a limit ordinal, then $V_\lambda \vDash FST$.\\
If $\lambda > \omega$ and a limit ordinal, then $V_\lambda \vDash Z$.

For (2): let $\kappa$ be a cardinal. We say $X$ is hereditarily smaller than $\kappa$ if $|tcl(X)| < \kappa$ (transitive closure).\\
Let $H_\kappa := \{X:X$ is hereditarily smaller than $\kappa\}$. This is obviously transitive.

We'll continue next Monday.

---Lecture 5---

We'll start with $V_\alpha$ today.

We know (if you don't know then I invite you to learn it): if $\lambda$ is a limit then $V_\lambda \vDash FST$; if further $\lambda > \omega$, then $V_\lambda \vDash Z$. (On example sheet 1. I haven't printed them today, so if you want to try them before Wednesday, find an envelope next to my office at C0.10 from this afternoon). 

The critical axiom here is \emph{Replacement}. The test case is $\lambda = \omega + \omega$, which we expect replacement fails. Remember replacement says that if we have a function $F:V_{\omega + \omega} \to V_{\omega + \omega}$ that is definable in $V_{\omega + \omega}$, and $x \in V_{\omega+\omega}$, then $\{F(y):y \in x\} \in V_{\omega+\omega}$, i.e. image of elements of a set under a function is a set.

The idea is to take $x=\omega$, and define $F$ to be the function that takes $n \to \omega+n$, and $y \to 0$ if $y \not\in \omega$. Remember that definable just means that we need a formula that uniques specify the image (see previous notes). Let $Y=\{F(n):n \in \omega\}$, which needs to be a set if replacement holds. Then $Y$ is a subset of $V_{\omega+\omega}$, so $Y \in V_{\omega+\omega+1}$; but it is not bounded, so it is not in $V_{\omega+\omega}$. This example shows concretely that $V_{\omega+\omega} \vDash \neg Replacement$.

What we needed in this particular example is a function that takes a bounded sequence to an unbounded one. Similarly, if $\alpha$ is any ordinal s.t. there is a definable function $f:\omega \to \alpha$, s.t. the range of $f$ is unbounded in $\alpha$, then $V_\alpha \vDash \neg Replacement$.

Even more general, if $\beta < \alpha$, and a definable function $f:\beta \to \alpha$ with unbounded range, then $V_\alpha \vDash \neg Replacement$.

Reminder: we call a cardinal $\kappa$ \emph{regular} if there is no partition $\kappa = \cup_{i \in I} A_i$ s.t. $|I|,|A_i| < \kappa$ for all $i \in I$.\\
Equivalently, for every $\alpha < \kappa$,there is no unbounded function $f:\alpha \to \kappa$.

We know, for exmaple, that $\aleph_1$ is regular. Moreover, for any $\alpha$, $\aleph_{\alpha+1}$ is regular. So this gives us the next candidate, $\alpha=\aleph_1$, which replacement cannot fail in the above way. So how does it fail? Note that $\mathcal{P}(\omega) \in V_{\omega+2} \subseteq V_{\omega_1}$. Clearly, there is a surjection $s:\mathcal{P}(\omega) \to \omega_1$. But that means its range is unbounded in $\omega_1$. Thus $V_{\omega_1} \vDash \neg Replacement$ either.\\
In general, if $\kappa$ is regular and there is $\lambda < \kappa$ with $|\mathcal{P}(\lambda)| \geq \kappa$, then the same argument shows $V_\kappa \vDash \neg Replacement$. 

\begin{defi}
A cardinal $\kappa$ is called \emph{inaccessible} if\\
(a) $\kappa$ is regular;\\
(b) $\forall \lambda < \kappa$, $|\mathcal{P}(\lambda)| < \kappa$.
\end{defi}

Side note: Related to the question, 'are there regular limit cardinals'? Under GCH: $\forall \kappa, 2^\kappa = \kappa^+$, we have that $\kappa$ is inaccessible iff $\kappa$ is regular limit. This suggests that the above question cannot be answered that easily (we usually call regular limit cardinals \emph{weakly inaccessible}).

Let's assume that $\kappa>\omega$ is inaccessible (because $\omega$ is actually inaccessible, which kind of make sense, because \emph{infinity} is the ultimate thing that is not accessible from everything smaller than it).

\begin{lemma}
$\forall \lambda < \kappa$, $|V_\lambda| < \kappa$.
\begin{proof}
Clearly $|V_\omega| = \aleph_0$, so $|V_\omega| < \kappa$.\\
By induction, suppose $|V_\lambda| < \kappa$. Then $V_{\lambda+1} = \mathcal{P}(V_\lambda)$. Therefore $|V_{\lambda+1}| = |\mathcal{P}(V_\lambda)| < \kappa$ by (b).\\
Now let $\lambda < \kappa$ be a limit ordinal. Then $V_\lambda = \cup_{\alpha < \lambda} V_\alpha$. So suppose by contradiction that $|V_\lambda| = \kappa$. But $|V_\alpha| < \kappa$ for all $\alpha < \kappa$, so we can write $\kappa$ as a union of $\lambda$ many things of smaller cardinals, contradicting regularity.
\end{proof}
\end{lemma}

\begin{thm}
If $\kappa$ is inaccessible, then $V_\kappa \vDash Replacement$.
\begin{proof}
We're actually going to something slightly stronger: take any function $F:V_\kappa \to V_\kappa$ (without caring of its definability), and any $x \in V_\kappa$. Note that $V_\kappa = \cup_{\alpha < \kappa} V_\alpha$. So we can find $\alpha \in \kappa$ s.t. $x \in V_\alpha$. Since $V_\alpha$ is transitive, $x \subseteq V_\alpha$. But that means $|x| \leq |V_\alpha| < \kappa$ (by lemma). Note that this is exactly what went wrong in $V_{\omega_1}$.\\
Now consider $X:=\{F(y):y \in x\}$. For each $y \in x$, consider $\rho(F(y)):=$ the least $\alpha$ s.t. $F(y) \in V_{\alpha+1} \setminus V_\alpha$. By assumption, $\rho(F(y)) < \kappa$. Consider $\{\rho(F(y)):y \in x\} := R$, then $|R| \leq |x| < \kappa$. By regularity, $\alpha := \cup R < \kappa$. But now $\forall y \in x F(y) \in V_{\alpha+1}$. So $X \subseteq V_{\alpha+1}$, so $X \in V_{\alpha+2}$, i.e. $V_\kappa \vDash Replacement$.
\end{proof}
\end{thm}

Note that this proves that the existence of inaccessible cardinals cannot be proved from ZFC. 

\subsection{Inaccessible cardinals}

---Lecture 6---

Course webpage: \\
$https://www.math.uni-hamburg.de/home/loewe/Lent2019/TST\_L19.html$.\\
Hand in work at the start of example class.

On the example sheet we've seen(or will see) that we write IC for the axiom 'there is an inaccessible cardinal.\\
We've seen that if $\kappa$ is inaccessible, then $V_\kappa \vDash ZFC$ (which is a transitive model). So ZFC+IC $\vdash$ 'there is a transitive set that is a model of ZFC', which we have called this $\beta$ at some point; we've also proved that $\beta$ is stronger than $Cons(ZFC)$, in the sense that $ZFC+Cons(ZFC) \not\vdash \beta$. Therefore $ZFC+Cons(ZFC) \not\vdash IC$.

Two model-theoretic reminders (see Part II Logic and Set Theory for both):\\
(1) L\"{o}wenheim-Skolem theorem. We want to formalize this: if $\mathcal{S}$ is any structure in some countable first-order language $L$, and $X \subseteq S$ is any subset, then there is a \emph{Skolem hull} of $X$ in $\mathcal{S}$, usually written as $\mathcal{H}^\mathcal{S}(X)$, with $X \subseteq \mathcal{H}^\mathcal{S}(X) \subseteq \mathcal{S}$, s.t. \\
(a) $\mathcal{H}^\mathcal{S}(X) \prec \mathcal{S}$ (elementary subsucture of $\mathcal{S}$);\\
(b) $|\mathcal{H}^\mathcal{S}(X)| \leq \max (\aleph_0,|X|)$.\\
You probably have seen the proof of this theorem, but let's have a sketch again because it's important to see how theorems of this kind are proved.
\begin{proof} (sketch)\\
Key ingredient -- Tarski-Vaught criterion: $Z \subseteq S$ then $Z \prec S$ iff for every $\varphi$ and all $z_1,...,z_n$, if $S \vDash \exists \varphi(x,z_1,...,z_n)$, then $Z \vDash \exists x \varphi(x,z_1,...,z_n)$.\\
In order to construct the Skolem hull, we define $Z_1 = Z_0 \cup$ witnesses for all tuples $\varphi_1 (z_1,...,z_n)$ where $z_1,...,z_n \in Z_0 = X$, and then $Z_{n+1}:= Z_n \cup ...$. By induction, each $Z_i$ has the same size. In the end we define $Z := \bigcup_{n \in \N} Z_n$, which will satisfy the Tarski-Vaught criterion.
\end{proof}

Consequence: work in $ZFC+IC$, $(M,\in) \vDash ZFC+IC$; inside $V_\kappa \subseteq M \vDash ZFC$. Apply L-S theorem to $V_\kappa$ with $X:=\phi$, we find a structure $H:=\mathcal{H}^{V_\kappa} (\phi) \prec V_\kappa$, which is countable (since it cannot be finite). So we've found a countable model of ZFC -- isn't this a contradiction? Not really, because this $H$ is, in general, not transitive -- and it probably shouldn't be -- consider the sentence '$\exists x$ s.t. $x$ is the least uncountable cardinal. This is certainly true in $V_\kappa$, so it needs to be also true in $H$; but its only witness in $V_\kappa$ is $\aleph_1$, so $\aleph_1 \in Z_1 \subseteq H$; so $H$ cannot be transitive since $\aleph_1$ has uncountably many elements.

(2) Mostowski Collapse Theorem. If $X$ is any set, and $R \subseteq X \times X$ s.t. $R$ is well-founded and extensional, then there is a transitive set $T$ s.t. $(T,\in) \cong (X,R)$. Consider $(H,\in) \vDash ZFC$: $\in$ is extensional on $H$ by the axioms of ZFC;$\in$ is well-founded on $M$, so $\in$ is well-founded on $H$.\\
So, let $T$ be the Mostowski collapse of $H$: $T$ is transitive, $(T,\in) \cong (H,\in)$. So $(T,\in) \vDash ZFC$, and now $T$ is transitive, and since this is a bijection, $|T| = |H| \leq \aleph_0$, so we get a countable transitive model of ZFC!

(some diagrams, where we used $T$ to denote the countable transitive model of ZFC)\\

Consider $\varphi(x):=x$ is countable: $\exists f(\underbrace{f: x \to \N}_{\Delta_0^{ZFC}}, \underbrace{f \text{ is injective}}_{\Delta_0^{ZFC}})$, which is $\Sigma_1^{ZFC}$, so is upwards absolute. But this formula is \emph{not} downwards absolute: if $\alpha$ is an ordinal, $\alpha \in T$, then $V_\kappa \vDash \alpha$ is countable. But since $(T,\in) \vDash ZFC$, there is some $\alpha \in T$ s.t. $(T,\in) \vDash \alpha$ is uncountable, so $V_\kappa$ and $T$ disagree about the truth value of $\varphi(\alpha)$.

Now consider $\psi(x):$ $x$ is a cardinal$:= \forall \alpha (\alpha < x \to $there is no injection from $x$ to $\alpha)$, which is $\Pi_1^{ZFC}$, so downwards absolute. In $(T,\in)$, take $\alpha$ least s.t. $(T,\in) \vDash \neg \varphi(\alpha)$. Then $(T,\in) \vDash \alpha$ is a cardinal. Clearly $V_\kappa \vDash \alpha$ is not a cardinal. So $\psi$ is not upwards absolute.

Note that if $\lambda$ is an uncountable cardinal in $V_\kappa$, then $\lambda \not\in T$, so the downwards absoluteness of $\psi$ is not very interesting because there aren't many cardinals.

Instead of building $\mathcal{H}^{V_\kappa}(\phi)$, why not build $H^* := \mathcal{H}^{V_\kappa} (\omega_1+1)$? Clearly $\omega_1 \in H$ now, and $\omega_1 \subseteq H$ as well, so $\omega_1$ stays the same when we do Mostowski's Collapse; so $\omega_1 \subseteq T^*$ and $\omega_1 \in T^*$ where $T^*$ is the new model obtained after Mostowski's collapse.

Now we have $V_\kappa \vDash \omega_1$ is a cardinal, so by downwards absoluteness, $T^* \vDash \omega_1$ is a cardinal. However, it might be the case that there are some other cardinals below $\omega_1$, so we can't say $\omega_1 = \aleph_1$.

---Lecture 7---

Remember our goal is to deduce some results about CH. We've decided to go for transitive models of ZFC (as we don't want to be concerned about whether a function is still a function in a submodel). We've looked at 'inner models', and in particular, models of type $V_\alpha$. We also know that if $\alpha$ is inaccessible, then $V_\alpha \vDash ZFC$. We've also found countable transitive submodel in $V_\alpha$ of ZFC, called $T$, by Mostowski collapse and L-S theorem.

One problem: this is \emph{not} going to change the truth value of CH: Suppose CH is true in $(M,\in)$, so there's a bijection between $\R$ and $\omega_1$. Similarly, if CH is false then there is no such bijection. An immediate problem is that we don't know what $\R$ is; we might as well replace it by $\P(\N)$, which is definitely in $V_{\omega+20}$ (safe enough), while $\omega_1 \in V_{\omega_1+1}$. But that means $V_\kappa$ knows exactly if there is a bijection (say we can define this in $V_{\omega_1+20} \subseteq V_k$) between $\R$ and $\omega_1$ because it has access to both of the levels, and it could just 'take a look' at it to determine the truth value. So $(M,\in) \vDash CH \iff (V_\kappa,\in) \vDash CH$.\\
But remember by L-S theorem we got a countable $H \prec V_\kappa$, so $(H,\in) \vDash CH \iff (V_\kappa,\in) \vDash CH$; and Mostowski collapse gives $(T,\in) \cong (H,\in)$, so $(T,\in) \vDash CH \iff (H,\in) \vDash CH$.

Summary: the method of finding countable transitive \emph{elementary} submodels of $V_\kappa$ is not going to change the value of CH. So let's look at different models.

\subsection{The second construction: Models of hereditarily small sets}

Let $\kappa$ be a regular cardinal (e.g. $\kappa = \omega, \kappa = \omega_1$). Then $x$ is called hereditarily of size $<\kappa$ if $|tcl(x)| < \kappa$, where $tcl(x)$ is the transitive closure of $x$ ($=\bigcup_{n \in \N} t_n(x)$, where $t_0(x):=x$, $t_{n+1}(x) = \bigcup t_n(x)$).\\
The definition of $tcl(x)$ captures the intuition of '$x$ has size $<\kappa$, all elements of $x$ have size $<\kappa$, all elements of elements of $x$ have size $<\kappa$, etc.'.

\begin{rem}
It's important that $\kappa$ is regular for the intuition to work: suppose it's not, say let $\kappa = \aleph_\omega$. Now think of a tree that has branches of all finite lengths, where at level $n$ we attach something of cardinality $\aleph_n$ at the node. More formally, define
\[
&x_n^0 = \aleph_n\\
&x_n^{k+1} = \{x_n^k\}\\
&...\\
&\mathbb{X} := \{x_0^0,x_1^1,x_2^2,...\}
\]
Note that $\mathbb{X}$ is countable, but in the 'tcl' notation above, the cardinality of $t_{n+1}(\mathbb{X})$ is $\aleph_n$, so $tcl(x)$, as the union of them, has cardinality $\aleph_\omega$! The problem is obviously because we could obtain $\aleph_\omega$ from fewer than $\aleph_\omega$ of smaller than $\aleph_\omega$ things, i.e. $\aleph_\omega$ is not regular.
\end{rem}

From now let's forget about those singular $\kappa$, but only consider $\kappa$ regular.

We make a few observations:\\
1. $H_\kappa$ is transitive;\\
2. If $X \subseteq H_\kappa$ and $|X| < \kappa$, then $X \in H_\kappa$ (follows directly from regularity of $\kappa$ and the definitions).

\begin{eg}
Let $H_{\aleph_0} := HF$ (hereditarily finite).\\
We claim that $HF = V_\omega$.
\begin{proof}
$V_\omega \subseteq HF$. We need to show $V_n \subseteq HF \forall n$. Clearly $V_0 = \phi \subseteq HF$; if $V_n \subseteq HF$, and $Z \subseteq V_n$, then by observation 2, $Z \in HF$, so $\mathcal{P}(V_n) = V_{n+1} \subseteq HF$.\\
Now we show $HF \subseteq V_\omega$. Suppose not, so there is $x \in HF \setminus V_\omega$; take such $x$ with minimal rank $\alpha$, so $x \in V_{\alpha+1} \setminus V_\alpha$. By minimality, if $y \in HF$ with $\rho(y) < \alpha$, then there is $k \in \N$ s.t. $\rho(y) = k$. We know $x \in \mathcal{P}(V_\alpha)$, so $x \subseteq V_\alpha \subseteq HF$. So $x \in HF$, so $x$ is finite. Say $x = \{x_1,...,x_n\}$. By minimality, each of them is in $V_{k_i}$ for some $k_i$, so $x \subseteq V_{\max(k_1,...,k_n)+1} \subseteq V_\omega$.
\end{proof}
\end{eg}

\begin{eg}
$H_{\aleph_1} = HC$ (hereditarily countable).\\
We know:\\
$\bullet$ $Ord \cap HC = \omega_1$;\\
$\bullet$ $V_{\omega+2} \setminus HC \neq \phi$;\\
$\bullet$ $V_{\omega+1} \subseteq HC$.

Which axioms are true in HC? Let's check Pair: say $x,y \in HC$. then $\{x,y\} \subseteq HC$. But $|\{x,y\}| < \aleph_1$, so $\{x,y\} \in HC$.\\
Separation, foundation, extensionality, union all hold in HC as well quite easily.\\
Replacement: let $F$ be a function $HC \to HC$, and $x \in HC$. Consider $R:=\{ F(y);y \in x\}$, which exists in the universe, and we need to check whether it's in $R$. We know $|R| \leq |x| < \aleph_1$, and $R \subseteq HC$. By observation 2 we immediately get $R \in HC$. So replacement is trivial!\\
So we know Power Set must be false, or at least not provable in HC, else we've proved the existence of a model of ZFC!

Note that Power Set is trivial in ZFC and it's replacement that is troublesome there, while here it's the other way round.

We know that $\N \in HC$, and we also know that $\mathcal{P}(\N) \not\in HC$. But that is not enough to disprove Power Set in HC; we need to show that there is no object in HC such that HC \emph{thinks} that it is the power set of $\N$; more formally, we need to show that for all $A \in HC$, $HC \vDash $'$A$ is not a power set of $\N$, i.e. $\exists X (X \subseteq \N \wedge X \not\in A)$.

Fix $A \in HC$, and presume that this might be the HC-powerset of $\N$.\\
Thus, if $X \subseteq \N$ and $X \in HC$, then $X \in A$. But if $X \subseteq \N$, then $X \subseteq HC$, and $|X| < \aleph_1$, so $X \in HC$.\\
So if $A$ is any set s.t. $\forall X, X \subseteq \N \wedge X \in HC \to X \in A)$, then $A$ is uncountable, so $A \not\in HC$. Contradiction. Thus $HC \vDash \neg Power Set$.\	
\end{eg}

---Lecture 8---

We've not been doing very useful things so far since what we've done was basically proving that many things are not useful. Even worse, the thing that we're going to do now is the most pointless of all as it's almost identical to some problems in the example sheet.

We knew $H_\kappa$ is a model of all of ZFC without power set if $\kappa$ is regular.

\begin{prop}
If $\kappa$ is a strong limit (cannot be reached by taking power set), then $H_\kappa \vDash PowerSet$.
\begin{proof}
We'll show: if $x \in H_\kappa$, then $\mathcal{P}(x) \in H_\kappa$. This is much stronger than the Power Set axiom.\\
Certainly $tcl(\mathcal{P}(x)) = \mathcal{P}(x) \cup tcl(x)$. Now $|tcl(x)| < \kappa$ since $x \in H_\kappa$, and $|\mathcal{P}(x)| < \kappa$ as well since $\kappa$ is a strong limit. So together we know $|tcl(\mathcal{P}(x)) | < \kappa$, so $\mathcal{P}(x) \in H_\kappa$.
\end{proof}
\end{prop}

General idea: build inner models using \emph{definability} properties. But the problem is: definability is not definable. This sounds like a typical joke from logicians, but it's actually a theorem.

\begin{thm} (Tarski Undefinability of Truth)\\
Let $(M,\in) \vDash ZFC$ (we'll just use this, but we'll see in the proof what set theory we actually need). We assume that the language of set theory $L_\in \subseteq M$ (so that sentences and formulas are actually elements of $M$). Consider the set $S$ of sentences of $L_\in$ and the set $U$ of unary predicates (i.e. $L_\in$-formulas in one free variable).\\
A \emph{truth predicate} would be a formula $T(x)$ in $L_\in$, so a unary predicate, i.e. $T \in U$, s.t. $(M,\in) \vDash \varphi \iff (M,\in) \vDash T(\varphi)$.\\
Claim: there can be no such truth predicate.\\
Before proving this, let's contrast this with the definition of truth we had before. Our previous result says if $M$ is a set, then the concept $(M,\in) \vDash \varphi$ is $\Delta_0$ (because we bound the quantifier by $M$, which is a set, so in some sense we had to use a parameter $M$ in our previous result, which is not available in our current settings.\\
\begin{proof} (idea: diagonalisation)\\
If $\varphi(x) \in U$, then we can ask whether $\varphi(\varphi)$ (which is a sentence, so $\in S$) is true.\\
Let's assume that there is a truth predicate $T$, and define a unary formula $\delta(x) := \neg T(x(x))$ (the \emph{diagonal}), where $x(x)$ is $x$ applied to $x$ if $x \in U$, and is $\phi$ otherwise (remember formulas are elements in $M$). Now apply $\delta$ to $\delta$, so $\delta(\delta) \in S$. Now
\[
M \vDash \neg T(\delta(\delta)) \iff M \vDash \delta(\delta) &\iff M\vDash T(\delta(\delta)) \\
\]
by definition of $\delta$ and the fact that $T$ was a truth predicate respectively. Contradiction.
\end{proof}
\end{thm}

Again, let $M \vDash ZFC$. We say that $x \in M$ is \emph{definable} if there is a formula $\varphi$ s.t. $\forall y \in M x=y \iff M \vDash \varphi(y)$.

We say that a formula $D$ is called a \emph{definition of definability} if $\forall x \in M$, $x$ is definable $\iff M \vDash D(x)$. By now we all know what we should expect next:

\begin{thm} (undefinability of definability)\\
There is no formula $D$ that is a definition of definability.
\begin{proof}
Assume $D$ is a definition of definability. Consider (informally now)
\[
\alpha := \max\{ \beta: \beta \text{ is not definable, but} \forall \gamma < \beta \exists \gamma' \gamma < \gamma' < \beta \text{ and } \gamma' \text{ is definable}\}\\
\]
which is the supremum of the definable ordinals. This has to exist because there are only countably many formulas, and each formula only specifies at most one ordinal; this has to be uncountable since, say, $\aleph_1$ is definable. This is defined by the formula:\\
$y = \alpha \leftrightarrow y$ is an ordinal and $\neg D(y)$ and
\[
\forall \gamma (\gamma < y \to \exists \gamma' (\gamma < \gamma' < y \wedge D(\gamma')))
\]
This proves that $\alpha$ is definable in the sense of the definition, so $M \vDash D(\alpha)$; but one of the conjuncts in the definition implies $M \vDash \neg D(\alpha)$. Contradiction.
\end{proof}
\end{thm}

We now learned that \emph{definability} is not going to work without keeping track of parameters. So we need to define definability with direct reference to what parameters are allowed.

Fix $A$, and $n \in \N$. We're going to define by recursion what it means to be a definable subset of $A^n$:\\
Define $Diag_\in(A,n,i,j) := \{s \in A^n: s_i \in s_j\}$ (read as \emph{diagrams}),\\
$Diag_=(A,n,i,j) := \{s \in A^n: s_i = s_j\}$,\\
$Proj(A,R,n) := \{s \in A^n: \exists t \in R (t|_n = s)\}$ (where the formula in the last bracket means $t$ restricted to $n$) (the intended meaning is for $R \subseteq A^{n+1}$). Now define\\
$Def(0,A,n) := \{Diag_\in(A,n,i,j): i,j < n\} \cup \{Diag_=(A,n,i,j):i,j < n\}$,\\
\[
Def(k+1,A,n) := Def(k,A,n) &\cup \{R \cap S: R,S \in Def(k,A,n)\} \\
&\cup \{A^n \setminus S: S \in Def(k,A,n)\} \\
&\cup \{Proj(A,R,n): R \in Def(k,A,n+1)\}
\] (corresponding to conjunctions, negations and existence quantifier). Lastly we define 
\[
Def(A,n) := \bigcup_{k \in \N} Def(k,A,n)
\]
Observe that the definition of $Def(k+1,A,n)$ and $Def(0,A,n)$ are $\Delta_0$ because all of the quantifiers are bounded by $A$. So the definition of $Def(A,n)$ is a recursive definition based on absolute notions, and thus absolute for transitive models (containing $A$, of course).

The next thing we are going to do (a bit of preview) is to use $Def(A,n)$ to define the \emph{definable power set}. After that, define a \emph{definable von Neumann hierarchy}. That's what we are going to do on Wednesday.

A reminder that we're going to have an example class this afternoon (330-5pm). I think it's in MR5?

---Lecture 9---

\subsection{The constructible universe}

Last time we discussed the construction of an inner model $L \subseteq M$ that is based on definability. Problems with definability are conncted to Tarski's Undefinability of Truth; the \emph{definable} fragment of truth is that where we fix the scope of existential quantifiers in advance.\\
Recall that we defined recursively $Def(A,n)$, which are definable subsets of $A^n$, where \emph{definable} is interpreted in $A$.

\begin{lemma}
Let $X \subseteq A^n$. If there is a formula $\varphi$ s.t. 
\[
(x_1,...,x_n) \in X \iff (A,\in) \vDash \varphi(x_1,...,x_n)
\]
then $X \in Def(A,n)$.
\begin{proof}
Simple induction over complexity of $\varphi$.
\end{proof}
\end{lemma}

\begin{lemma}
In $M$, we have that $Def(A,n)$ is countable.\\
(We even have a concrete surjection $\N \to Def(A,n)$.)
\begin{proof}
There are only countably many formulas.
\end{proof}
\end{lemma}
Observation: in the definition of $Def(k,A,n)$, we only used notions absolute for transitive models of ZF. So, since $Def(A,n)$ was defined by recursion over $Def(k,A,n)$, also $Def(A,n)$ is absolute between transitive models.

Our goal is to find a definable power set. However, $Def(A,1)$ is not a good candidate as it is always countable, so if $A$ is uncountable, then there is $a \in A$ s.t. $\{a\} \not\in Def(A,1)$ by the above lemma.

We define
\[
\mathcal{D}(A) := \{X \subseteq A: \exists n \exists s \in A^n \exists R \in Def(A,n+1) s.t. X = \{a \in A: (a,s_0,...,s_{n-1}) \in R	\}\}
\]
and we'll call this the \emph{definable power set}.

Observation: If $X$ is informally definable with parameters from $A$, i.e. $X = \{ a \in A: (A,\in) \vDash \varphi(a,p_1,...,p_n) \}$ for some $p_1,...,p_n \in A$, then $X \in \mathcal{D}(A)$.

Observation: As $Def(A,n)$ was absolute and the quantifiers in the definition of $\mathcal{D}(A)$ are all bounded, $\mathcal{D}(A)$ is absolute for transitive models.

\begin{prop}
If $A$ is transitive, then $\mathcal{D}(A)$ is transitive.
\begin{proof}
Suppose $x \in X \in \mathcal{D}(A)$. Then $x \in X \subseteq A$. So $x \subseteq A$ and $x \in A$ as $A$ is transitive. We can then define $x$ as a subset by the formula $v \in x = \varphi(v)$ (which selects exactly the elements of $x$, which form $x$): $x = \{z \in A: (A,\in) \vDash \varphi(z)\}$.
\end{proof}
\end{prop}

Let $L_0:=\phi$,\\
$L_{\alpha+1}:= \mathcal{D}(L_\alpha)$,\\
$L_{\lambda} := \bigcup_{\alpha<\lambda} L_\alpha$.

We refer to the class $\bigcup_{\alpha \in Ord} L_\alpha$ as '$L$', or \emph{the constructible universe}.

Properties: \\
(1) If $\alpha \leq \omega$, then $V_\alpha = L_\alpha$.\\
(2) For every $\alpha$, $L_\alpha$ is transitive from proposition by induction.\\
(3) $\alpha \leq \beta \to L_\alpha \subseteq L_\beta$;\\
(4) $Ord \cap L_\alpha = \alpha$ (this and (3) are in sheet 2);\\
(5) If $\alpha \geq \omega$, then $|L_\alpha| = |\alpha|$.
\begin{proof}
$\alpha=\omega$: $|L_\omega| = |V_\omega| = \aleph_0 = |\omega|$;\\
Suppose for all $\beta < \alpha$ we have $|L_\beta| \leq |\beta|$. Show that $|L_\alpha| < |\alpha|^+$:\\
(a) $\alpha$ is a successor, say $\alpha = \beta+1$. So $L_\alpha = L_{\beta+1} = \mathcal{D}(L_\beta)$; if we look carefully at the definition, we could get a surjection from $\aleph_0 \times \bigcup_{n \in \N} L_\beta^n$ onto $\mathcal{D}(L_\beta)$; but we assumed $\alpha$ is at least $\omega$, $\aleph_0 \times \bigcup_{n \in \N} L_\beta^n$ has cardinality $|L_\beta|$ as well.\\
(b) $\alpha$ is a limit. Let $\pi_\beta: \alpha \to L_\beta$ be a surjection. Then we find surjection from $\alpha \times \alpha \twoheadrightarrow L_\alpha$ by $(\gamma,\gamma') \to \pi_\gamma(\gamma')$.
\end{proof}
Note that in the above we've only proved that the cardinality is at most what we wanted; but it is also at least that by property (4).\\

Now look at $V_{\omega+1}$ and $L_{\omega+1}$. They can't be the same, as the first is uncountable but the second is uncountable. So $L_{\omega+1} \subseteq V_{\omega+1}$, and $V_{\omega+1} \setminus L_{\omega+1} \neq \phi$. However, it is entirely possible that the missing part is collected later when we reach $L_{\omega_1}$ or later.

\begin{defi}
If $x$ is constructible, $x \in L$, then $\rho_L(x) := \min\{\alpha: x \in L_{\alpha+1}\}$ (an analogue of the rank in $V$).
\end{defi}

\begin{defi}
$V=L$ is the axiom of constructibility
\[
\forall x \exists \alpha (x \in L_\alpha)
\]
Note that this is a concrete sentence in $L_\in$, as $L_\alpha$ can be recursively defined.
\end{defi}

\begin{lemma}
If $M$ is a transitive set model of $ZFC+(V=L)$, then there is a limit ordinal $\lambda$ s.t. $M=L_\lambda$.\\
Note that we haven't shown that such $M$ would exist (as $\neg V=L$ might well be a theorem in ZFC), but we know what it will look like \emph{if} it exists.\\
We don't really have much time, so we'll present a quick proof here; more details next lecture.
\begin{proof}
Consider $\lambda:= Ord \cap M$ (remember that $M$ is a set, so $\lambda$ is indeed a set, so an ordinal). Clearly, $\lambda$ is a limit ordinal (both are transitive).\\
We claim that $M=L_\lambda$: suppose $x \in M$, by $V=L$ find $\alpha \in M$ s.t. $(M,\in) \vDash x \in L_\alpha$. $L_\alpha$ was defined by recursion from absolute notions, so $x \in L_\alpha$ is absolute. So $x \in L_\alpha \subseteq L_\lambda$.\\
Suppose $x \in L_\lambda$, so there is $\alpha < \lambda$ s.t. $x \in L_\alpha$ (this is absolute, so $(M,\in) \vDash x \in L_\alpha$), by choice of $\lambda$, $\alpha \in M$.
\end{proof}
\end{lemma}

---Lecture 10---

What did we do so far? We defined the constructible universe, and we realized that our definitions were absolute for transitive models: if we write $\Phi(x,\alpha)$ the formula '$x \in L_\alpha$', $\Psi(x,\alpha)$ the formula '$x=L_\alpha$', then both $\Phi$ and $\Psi$ are absolute for transitive models of set theory.

We also had the axiom '$V=L$', which is a short hand for $\forall x \exists \alpha x\in L_\alpha$.

\begin{prop}
If $A$ is a transitive set model of $ZFC+(V=L)$, then $A=L_\alpha$ where $\alpha = Ord \cap A$.
\begin{proof}
'$A \subseteq L_\alpha$': If $x \in A$, then by $(A,\in) \vDash V=L$, find $\beta$ s.t. $(A,\in) \vDash x \in L_\beta$; by absoluteness, $x \in L_\beta \subseteq L_\alpha$.\\
'$L_\alpha \subseteq A$': If $x \in L_\alpha$, since $\alpha = Ord\cap A$ and $A \vDash ZFC$, $\alpha$ has to be a limit ordinal. So we can write $L_\alpha = \bigcup_{\beta < \alpha} L_\beta$. So find $\beta < \alpha$ and $x \in L_\beta$. Since $(A,\in) \vDash ZFC$, we know that $A$ thinks '$L_\beta$ exists', or slightly more formally, there is $X$ s.t. $(A,\in) \vDash \Psi(X,\beta)$. By absoluteness of $\Psi$, $\Psi(X,\beta)$ is actually true in the bigger universe $M$. So $X=L_\beta$. Therefore $L_\beta \in A$. But $x \in L_\beta$ and $A$ is transitive. So $x \in A$.
\end{proof}
\end{prop}

However, as we said last time, we don't really know if there \emph{is} actually a model of $ZFC+(V=L)$, so what we just did seems a bit pointless. Our next major goal shall then be:

\begin{thm} (G\"{o}del, 1938)\\
If $\kappa$ is inaccessible, then $L_\kappa \vDash ZFC+(V=L)$.
\end{thm}

\begin{coro}
IC $\implies$ there is a \emph{countable} $\alpha$ s.t. $L_\alpha \vDash ZFC+(V=L)$.
\begin{proof}
Take $H:=\mathcal{H}^{L_\kappa}(\phi) \prec L_\kappa$, the Skolem hull. $H$ is therefore countable. Then take $T \cong H$ the Mostowski collapse, then $(T,\in) \equiv (L_\kappa,\in)$ (all sentences have the same truth value). Therefore $(T,\in) \vDash ZFC+(V=L)$ is a countable transitive model; then apply our previous proposition we know $T=L_\alpha$ for some ordinal $\alpha$. But by a previous property $|L_\alpha| = |\alpha|$, so $\alpha$ has to be countable.
\end{proof}
\end{coro}

Contrast this with: If $V_\alpha \vDash ZFC$, then $\alpha$ cannot be countable: if $\alpha$ is countable, then there is a code for a surjection $f:N \twoheadrightarrow \alpha$ in $V_{\omega+1} \subseteq V_\alpha$, so $V_\alpha \vDash$ '$\alpha$ is countable'; contradiction to $V_\alpha \vDash ZFC$. (some diagram)

\begin{proof} (of theorem)\\
Extensionality follows from transitivity;\\
Pair: $x,y \in L_\kappa$, find $\alpha$ s.t. $x,y \in L_\alpha$ s.t. $\{x,y\} \subseteq L_\alpha$. Clearly the formula
\[
\varphi(z,x,y) := z=x \vee z=y
\]
defines the pair $\{x,y\}$. So by one of our previous lemmas, the pair lies in $\mathcal{D}(L_\alpha) = L_{\alpha+1} \subseteq L_\kappa$.\\
However, note that our lemma only says that if we have a formula $\varphi$, and we interpret it in $L_\alpha$, then what we get will be in $D(L_\alpha)$. But luckily our $\varphi$ here is simple enough that it doesn't matter where we interpret it within: its truth value is the same in any model that contains $x$ and $y$.\\
The same proof takes care of, say, Union. Let's get to something that's more interesting. How about Power Set? This can't work directly, since there are just not enough elements in $D(L_\alpha)$.\\
Consider $x \in L_\kappa$. As before, $\alpha < \kappa$, so $x \in L_\alpha$, so $x \subseteq L_\alpha$ by transitivity, so $|x| \leq |L_\alpha| < \kappa$ because $\kappa$ is strongly inaccessible.\\
Consider $\mathcal{P}(x)$ in $M$; we know $|\mathcal{P}(x)| = 2^{|x|} < \kappa$ because $\kappa$ is inaccessible, and $|L_\kappa \cap \mathcal{P}(x)| \leq |\mathcal{P}(x)| < \kappa$ (diagram).
\begin{rem}
Since $L_\kappa,\mathcal{P}(x)$ are sets in $M$, $L_\kappa \cap \mathcal{P}(x)$ is a set in $V_\kappa$, and it is \emph{definable} in $V_\kappa$ by the formula
\[
z \in L_\kappa \cap \mathcal{P}(x) \iff \Phi(z,\kappa) \wedge z \subseteq x
\]
But that's not good enough to prove that $L_\kappa \cap \mathcal{P}(x) \in L_\kappa$, as we actually need to find an $\alpha<\kappa$ in place of $\kappa$ in the formula.
\end{rem}
For each $z \in L_\kappa \cap \mathcal{P}(x)$, find the $L$-rank,
\[
\alpha_z:=\rho_L(z) < \kappa
\]
and consider the set
\[
\{\alpha_z: z \in L_\kappa \cap \mathcal{P}(x)\} \subseteq \kappa
\]
of size $<\kappa$. Then by regularity of $\kappa$ we know it must be bounded by some $\beta < \kappa$ s.t.
\[
\{\alpha_z: z \in L_\kappa \cap \mathcal{P}(x)\} \subseteq \beta
\]
So $L_\kappa \cap \mathcal{P}(x) \subset L_\beta$.\\
Now define
\[
P:=\{z: (L_\beta,\in) \vDash z \subseteq x\}
\]
By our lemma, $P \in \mathcal{D}(L_\beta) = L_{\beta+1} \subseteq L_\kappa$; but $L_\kappa \vDash \forall z (z \in P \iff z \subseteq x)$, so $L_\kappa$ is a model of the power set axiom. (see diagram)

---Lecture 11---

Example sheet 2 will be in an envelope next to C0.10 this afternoon.\\
We saw pairing and power set last time. Some of the others will be in the example sheet.

Let's consider separation, a more difficult one. Let $x \in L_\kappa$, $\varphi$ be a formula, $a_1,...,a_k \in L_\kappa$.\\
Separation says that, informally, $\{z \in x:\varphi(z,a_1,...,a_n) \}$ exists.\\
More formally, $\{z \in x: L_\kappa \vDash \varphi(z,a_1,...,a_n)\}$ exists. At first glance we can use the same argument for power set: just find all these $z$ are, and go to the next level and consider $\mathcal{D}$ of it. Let's see how that \emph{stops} working. For each $1 \leq i \leq n$, find $\alpha_i < \kappa$ s.t. $a_i  \in L_{\alpha_i}$, and find $\alpha <  \kappa$ s.t. $x \in L_\alpha$. Define $\beta:=\max\{\alpha,\alpha_1,...,\alpha_n\}$.\\
So for any $z \in x$, we have $z,a_1,...,a_n \in L_\beta$ (by transitivity of $L_\beta$). So $\{z \in x: L_\beta \vDash \varphi(z,a_1,...,a_n)\} \in \mathcal{D}(L_\beta) = L_{\beta+1}$. Apparently this is not necessarily what we want: we have no idea if $\varphi$ is absolute between $L_\beta$ and $L_\kappa$; in fact we have \emph{some} idea, because this has to work for any $\varphi$, so there are definitely some formulas that are not absolute.\\
So we see the problem is that, in general, $\{z \in x: L_\beta \vDash \varphi(z,a_1,...,a_n)\} \neq \{z \in x: L_\kappa \vDash \varphi(z,a_1,...,a_n)\}$.

Note that our choice of $\beta$ might be a terrible one, as we have no idea what it is; it might even be a successor ordinal. So we have to choose it more carefully.

Consider $\mathcal{H}^{L_\kappa}(L_\beta) \prec L_\kappa$, with cardinality the same as $|L_\beta| = |\beta| < \kappa$; and now consider its Mostowski collapse, $T \cong \mathcal{H}^{L_\kappa} (L_\beta)$, with Mostowski isomorphism $\pi:T \to \mathcal{H}^{L_\kappa} (L_\beta)$. $T$ is transitive, $|T| = |\beta| < \kappa$, and $T \prec L_\kappa$.

[Some model theory recap: we have if $M \cong M'$, $M\vDash \varphi(x_1,...,x_n) \iff M' \vDash \varphi(\pi(x_1),...,\pi(x_n))$. $M \equiv M'$ means $M\vDash \varphi \iff M'(\varphi)$ for all sentences $\varphi$. Therefore isomorphism implies elementary equivalence. $M\prec M'$ means $M \vDash \varphi(x_1,...,x_\kappa) \iff M' \vDash \varphi(x_1,...,x_n)$.]

We then have 

\begin{tikzcd}
T \arrow[r,"\pi"] & \mathcal{H}^{L_\kappa}(L_\beta) \arrow[r,"id"] & L_\kappa\\
{\varphi(z,a_1,...,a_n)} & {\varphi(\pi(z),\pi(a_1),...,\pi(a_n))} & {\varphi(\pi(z),\pi(a_1),...,\pi(a_n))}
\end{tikzcd}

We know that the Mostowski collapse is the identity on transitive sets. So, if $X \subseteq L_\kappa$ is transitive, then $\pi|_X = id|_X$. Since $L_\beta$ \emph{is} transitive, and all $z,a_1,...,a_n$ are in $L_\beta$, we get that $T \vDash \varphi(z,a_1,...,a_n) \iff L_\kappa \vDash \varphi(z,a_1,...,a_n)$.

Let's do the 'modified Skolem Hull construction' from sheet 1 q12: let\\
$\alpha_0 := Ord \cap T, \alpha_{n+1}$ is the least $\gamma$ s.t. $L_\gamma$ contains $L_{\alpha_n}$ and a witness for each existential statement true with parameters in $L_{\alpha_n}$. Let $\bar{\alpha}:=\bigcup_{n \in \N} \alpha_n$. So $T \prec L_{\bar{\alpha}}$ with $\bar{\alpha} < \kappa$.

Now define the set via $\varphi$ over $L_{\bar{\alpha}}$:
\[
L_{\bar{\alpha}+1} = \mathcal{D}(L_{\bar{\alpha}}) \ni &\{z \in x: L_{\bar{\alpha}} \vDash \varphi(z,a_1,...,a_n)\}\\
=&\{z \in x: T \vDash \varphi(z,a_1,....,a_n)\} \ (T \prec L_{\bar{\alpha}})\\
=&\{z \in x: \mathcal{H}^{L_\kappa}(L_\beta) \vDash \varphi(\pi(z),\pi(a_1),...,\pi(a_n))\}\\
=& \{z \in x: \mathcal{H}^{L_\kappa}(L_\beta) \vDash \varphi(z,a_1,...,a_n)\}\\
=& \{z \in x: L_\kappa \vDash \varphi(z,a_1,...,a_n)\}
\]

We only showed pairing, power set, and separation. The rest are similar.
\end{proof}

\begin{thm} (The Condensation Lemma)\\
If $\kappa$ is inaccessible, $x,y \in L_\kappa$, and $y \subseteq x$, then there is $\alpha < \kappa$ with $|\alpha| \leq |tcl(x)|$ s.t. $y \in L_\alpha$.
\begin{proof}
Consider $y\subseteq x$ and $tcl(x \cup \{y\}) =: t$. Clearly $|t| = |tcl(x)|$. Now consider $T \xrightarrow{\pi} \mathcal{H}^{L_\kappa} (t) \prec L_\kappa$, clearly all these things have the same cardinality. Now we know $\pi$ is the identity on $t$, so in particular $\pi(y) = y$, $\forall z \in x \pi(z)=z$, and $\pi(x) = x$.\\
By our lemma, find $\beta$ s.t. $T=L_\beta$ (we're now allowed to do this since $L_\kappa \vDash ZFC+(V=L)$, and therefore $L_\beta \equiv L_\kappa \vDash ZFC+(V=L)$).\\
Now $y$ can be defined over $L_\beta$ with parameters in $L_\beta$, namely viz. $y$ (we know $y$ is in there so we don't actually need to define it).\\
We just need to check $\beta$ has the right cardinality: $|\beta| = |L_\beta| = |T| = |tcl(x)|$.
\end{proof}
\end{thm}

---Lecture 12---

Today we're going to prove that there is a model of ZFC+CH. This is especially convenient as today we're in the middle of the entire course (the 12th lecture), so we spent exactly half of the course on proving one side of what we wanted.

Recall that last time we had the condensation lemma: if $\kappa$ is inaccessible. $x,y \in L_\kappa$, $y \subseteq x$, then there is $\alpha$ s.t. $|\alpha| \leq |tcl(x)|$ s.t. $y \in L_\alpha$.

\begin{coro}
$x=\N$, $y \subseteq \N$, then there is $\alpha < \omega$ s.t. $y \in L_\alpha$.
\end{coro}

\begin{coro}
(1) $\mathcal{P}(\N) \cap L_\kappa \subseteq L_{\omega_1}$.\\
Observe that $\mathcal{P}(\N) \cap L_\kappa = \mathcal{P}^{L_\kappa}(\N)$, where $\mathcal{P}^{L_\kappa}(\N)$ referes to the unique $p \in L_\kappa$ s.t. $L_\kappa \vDash p=\mathcal{P}(\N)$.\\
(2) $\mathcal{P}^{L_\kappa}(\N) \subseteq L_{\omega_1}$.\\
(3) $|\mathcal{P}^{L_\kappa}(\N)| \leq |L_{\omega_1}| = |\omega_1| = \aleph_1$.\\
Hence it seems that we're extremely close to having a model of ZFC+CH. However, this $\omega_1$ we're referring to here is, of course, in the model that we're building.\\
(A 'one-line proof' of the Condensation Lemma:
\[
y \in L_\alpha = T \cong \mathcal{H}^{L_\kappa} (tcl(x)\cup\{y\}) \prec L_\kappa
\]
)
\end{coro}

Let's improve this to show $L_\kappa \vDash CH$. The key idea is that $L_\kappa \vDash ZFC$, the condensation lemma itself is a theorem of ZFC(?), so we can just apply condensation lemma inside $L_\kappa$.

The problem is that our condensation lemma is a theorem of ZFC+IC instead of ZFC.

\begin{rem}
So if you assume ZFC+2IC in $M$, then this argument gets you that $L_\kappa$ (where $\kappa$ should be the second inaccessible cardinal now) is a model of CH, and you're actually done provided that you think 2IC is a reasonable thing to have.
\end{rem}

But this feels a bit odd. Let's try to do this without 2IC.

Work in $L_\kappa$, we know that $\mathcal{P}^{L_\kappa}(\N) \subseteq L_{\omega_1}$, where $\omega_1$ is the $\omega_1$ in $M$.\\
Note that $\omega_1 < \kappa$, so in particular $L_{\omega_1} \subseteq L_\kappa$.

Now we could build $\mathcal{H}^{L_\kappa}(L_{\omega_1}) \prec L_\kappa$, and $\mathcal{P}^{L_\kappa}(\N) \subseteq L_\beta = T \cong \mathcal{H}^{L_\kappa}(L_{\omega_1})$. By the standard argument we know $\beta < \aleph_2 < \kappa$. But now $L_\beta \vDash ZFC+V=L$.

Run the condensation lemma proof for $V_\kappa$ as $M$ and $L_\beta$ as $L_\kappa$, we then get
\[
y \in L_\alpha = T \cong \mathcal{H}^{L_\beta}(\N \cup \{y\}) \prec L_\beta
\]

Now the surrounding universe knows that $\alpha$ is countable, so $L_\kappa$ knows $\alpha$ is countable. So if $\omega_1^{L_\kappa}$ is the $\omega_1$ of $L_\kappa$, then $\mathcal{P}^{L_\kappa}(\N) \subseteq L_{\omega_1^{L_\kappa}}$.\\
So $L_\kappa \vDash 2^{\aleph_0} \leq \aleph_1$, i.e. $L_\kappa \vDash CH$. So we've proved:

\begin{thm}
\[
Cons(ZFC+IC) \implies Cons(ZFC+CH)
\]
\end{thm}

\begin{rem}
(1) The same argument with $x=\lambda$ for some $L_\kappa$-cardinal $\lambda$ gives us $L_\kappa \vDash 2^\lambda \leq \lambda^+$. So GCH holds: $\forall \lambda 2^\lambda = \lambda^+$.\\
(2) What about the inaccessible cardinal?\\
(a) If we have a transitive set model of ZFC, we can mimic this proof. Nevertheless we knew it was still stronger than $Cons(ZFC)$.\\
(b) There is a way of getting around that assumption as well by L\'{e}vy Reflection Theorem (see sheet 2): fix in advance some finite list $\Phi$ of sentences you wish to preserve, and find sufficiently large $\alpha$ s.t. $\Phi$ is absolute for $V_\alpha$.\\
Go through all needed absoluteness results and lemmas and theorems, and collect, for each of them, $\varphi$, the finite set $\Phi_\varphi$ of axioms of ZFC we needed to prove them. Form $\Phi:=\bigcup_{\varphi \text{ is relevant}} \Phi_\varphi$, which is a finite union of finitely many things. Apply L\'{e}vy to $\Phi$ and run the previous proof to get a model of $\Phi+CH$.\\
Now consider all finite subsets $\Psi$ s.t. $\Phi \subseteq \Psi \subseteq ZFC$, and get models of $\Psi+CH$. Compactness then gives a model of $ZFC+CH$.\\
(3) Consider 
\[
L=\bigcup_{\alpha \in Ord} L_\alpha \subseteq M
\]
Our proof does not say what axioms hold in $L$, but using the L\'{e}vy reflection theorem, we can prove that if $V \vDash ZFC$, then $L \vDash ZFC+V=L$.
\end{rem}

Now let's use this to solve one of the open problems in the 1910s, which follows as an almost trivial consequence of what we've done.

Consider the question about regular limit cardinals. Remember we had notions of regular/singular, successor/limit. We realize that we can prove that every successor cardinal is regular, and we have a lot of singular limit cardinals. So can we get regular limit cardinals?

If we strengthen 'limit'($\forall \lambda<\kappa(\lambda^+<\kappa)$) to 'strong limit'($\forall \lambda < \kappa(2^\lambda<\kappa)$), then we showed that ZFC cannot prove the existence of regular strong limits (i.e. inaccessible cardinals).

Clearly, ZFC+GCH implies that every limit is a strong limit (because $\lambda^+ = 2^\lambda$). So ZFC+CH gives every regular limit is an inaccessible cardinal.
\begin{proof}
Assume that $M \vDash ZFC$ and that $ZFC\vdash$ there are regular limits. Towards a contradiction (with G\"{o}del's incompleteness theorem), prove $M \vDash Cons(ZFC)$.\\
Consider $L \subset M$, by remark (3), $L \vDash ZFC+GCH$. By assumption, $ZFC \vdash \exists$ regular limit, so $L \vDash ZFC+GCH+(\exists \kappa$ $\kappa$ is a regular limit). But ZFC+GCH implies every regular limit is inaccessible, so $L \vDash ZFC+IC$. So $L \vDash \exists \kappa (L_\kappa \vDash ZFC)$, so $L \vDash Cons(ZFC)$; so $M \vDash Cons(ZFC)$ by absoluteness between transitive models.
\end{proof}

\newpage

\section{Construction of the generic model}

\subsection{Limitation of methods of inner models}

---Lecture 13---

Sorry for the forced break on Friday -- we'll see if we can manage with 23 lectures; if not we'll have to have an additional one at the end of term.

Last time we gave the impression that we're at a breaking point between the first and the second part of the course ($CH$ and $\neg CH$); but that's not entirely true. Today we'll try to understand the difficulty and limitations of our previous method of inner models.

\begin{defi}
If $(M,\in) \vDash ZFC$, $N \subseteq M$, we say that \emph{$N$ is an inner model of $M$} if:\\
(a) $(N,\in) \vDash ZFC$;\\
(b) $Ord \cap N = Ord \cap M$ (not always needed, but this is usually the standard requirement in literature);\\
(c) $N$ is transitive in $M$.
\end{defi}

Let's rephrase some things that we've learnt about $L$. We have the following theorem:

\begin{thm} (Minimality theorem)\\
If $M \vDash ZFC+(V=L)$, and $N$ is an inner model, of $M$, then $N=M$.\\
In other words, $L$ has no non-trivial inner models.
\begin{proof}
We know that $M=\bigcup_{\alpha \in Ord \cap M} L_\alpha^M$ ($L_\alpha$ interpreted in $M$, which doesn't really matter because of absoluteness); this follows directly from $V=L$ in $M$. So in order to show $N=M$, it's enough to show $L_\alpha^M \subseteq N$ for all $\alpha \in Ord \cap M$. But $L_\alpha^N \subseteq N$ for $\alpha \in Ord \cap N$, but then by absoluteness $L_\alpha^N = L_\alpha^M$; then by requirement (b) we're done.
\end{proof}
\end{thm}

\begin{rem}
(1) If we drop (b), we still get that $N=L_\Omega^M$ where $\Omega = Ord \cap N$; so we get a smaller model not because it's \emph{narrower}, but only because it's \emph{shorter}.\\
(2) We don't need full ZFC for this: similar results hold for considerably weaker theories.
\end{rem}

Now, what do we mean by the \emph{technique} of inner models? An application of the technique would mean: we want to show $Cons(ZFC+\varphi)$; start with $M \vDash ZFC+\neg \varphi$; go to an inner model $N \subseteq M$ where $N \vDash ZFC+\varphi$. A limitation would mean that this is not possible (while, not quite; it \emph{is} always possible in some way, say by going to a larger model where $\varphi$ fails and then going back).

\begin{defi}
A \emph{definable inner model} is an $L_\in$-formula $\varphi$ with one free variable, with the property: if $(M,\in) \vDash ZFC$, then define
\[
N:= \{ x \in M: M \vDash \Phi(x)\}
\]
Then we call $N$ an inner model of $M$.
\end{defi}

Of course we have an example, $L$, in the sense that we can use the formula $\Phi(x) \leftrightarrow \exists \alpha (x \in L_\alpha)$.

Now we can define what we mean by \emph{the consistency of $\varphi$ can be shown by inner models.}

This means we find an inner model $\varphi$ s.t. for all $M \vDash ZFC$, and $N := \{x \in M, M \vDash \Phi(x)\}$, then $N \vDash ZFC+\varphi$.

\begin{coro}
There is no inner model proof of the consistency proof of $\neg CH$.
\begin{proof}
Suppose otherwise, so let $\Phi$ be an inner model that proves $Cons(ZFC+\neg CH)$. Take an arbitrary $M \vDash ZFC$. Build $L^M$, and form $N^*:=\{x \in L^M: L^m \vDash \Phi(x)\}$. By minimality theorem, $N^* = L^M$. So $N^* \vDash \neg CH$ by assumption; but also $N^* \vDash CH$ because it's $L$. Contradiction.
\end{proof}
\end{coro}

\subsection{Basic terminologies of forcing}

So instead we consider \emph{outer models}, nowadays more often known as \emph{forcing}.

Let's do some illustration first: let $L$ be the language of arithmetic with symbols $+,\cdot,0,1$; let $Fld$ denote the axioms for fields; and let $\Phi_0$ denote the formula specifying a field have characteristic 0; and of course use $Fld_0 := Fld+\Phi_0$ (field of characteristic zero).\\
From algebra we know each characteristic has a prime field (in this case, $\Q$). The method of inner model here would be (something like) subfields. $\Q$ is minimal in the sense that it has no proper subfields.

Now let's consider something that is true in $\Q$ but might be false somewhere else. Maybe let's have the axiom
\[
NSRT := \forall x (x \cdot x \neq 1+1)
\]
(a great name for the axiom \emph{no square root of two}). Then $\Q \vDash NSRT$. In analogy to the discussion of inner models before, the technique of submodels cannot show $Cons(Fld_0+\neg NSRT)$. So we instead add some weird $X \not\in \Q$ (from the surrounding meta-universe), and \emph{assume} that $X^2=2$. Obviously we can't just take $\Q \cup \{X\}$ as that won't satisfy axioms of $Fld_0$. So we need $X+X,X+X+X,qX,X^3,...$. In algebra we had various techniques that allowed us to do constructions and obtain $\Q(X) \vDash Fld_0+\neg NSRT$.

We've seen how the above illustration works to prove $Cons(Fld_0+\neg NSRT)$. Why not just do the same for $CH$? Assume $M \vDash ZFC+CH$, and further more assume $M$ is countable and transitive (by the usual L-S and then Mostowski collapse trick). So all of its elements are countable, i.e. $\R^M,\aleph_1^M,\aleph_2^M,...$ in $M$ are all countable (in $M$). So there are lots of (uncountably many) reals not in $M$. In particular (since $\aleph_2^M$ is countable (in $M$) as well, we could have an injection $i: \aleph_2^M \to \R$ s.t. the range of $i$ is completely outside $M$, i.e. $ran(i) \cap M = \phi$.

Now form: $M(i)$, the smallest ZFC models containing $M$ as a subset, $i$ as an element (let's assume we have some way to do that). Then $M(i) \vDash ZFC+|\R| \geq |\aleph_2^M|$.\\
This looks really like $\neg CH$; unfortunately, $\neg CH$ would require $|\R| \geq |\aleph_2^{M(i)}|$. Note that the property of being a cardinal is only downward absolute, so both $\aleph_1^M$ and $\aleph_2^M$ might lose the property of being a cardinal when we move to $M(i)$. So we definitely want both of them to be preserved as cardinals: if either of them is not a cardinal then at best we get an unimpressive result that $|\R| \geq |\aleph_1^{M(i)}|$. So we need $\aleph_1^M = \aleph_1^{M(i)}$ and $\aleph_2^M = \aleph_2^{M(i)}$ in order to prove $\neg CH$.

Let's summarize our proof components:\\
(1) Find a construction of transitive $M(i) \vDash ZFC$;\\
(2) Preservation theorems for cardinals;\\
We've only seen one preservation theorem (in sheet 1): $\R^M = \R^N \implies \aleph_1^M = \aleph_1^N$. But this is pointless now, as the whole point of our attempt is to add new reals.\\
Also, there's no chance that our general attempt above would work for any injection $i$: if $x$ codes a well-order on $\N$ of order type $\aleph_1^M$, and $i(j) = x$, then $M(i) \vDash \aleph_1^M$ is countable; so we really need to be more careful when specifying which $i$ we want (on lecture 14, a different phrased version: if $x \in ran(i)$, then $X \in M[i]$; if $x$ is a code for the countability of $\aleph_1^M$, then $M[i] \not\vDash \aleph_2^{M[i]} = \aleph_2^M$).

---Lecture 14---

Even worse, if such an $x$ can be constructed in ZFC from $i$, then it will be in $M[i]$. So we need to guarantee that no such objects can be constructed.

Let's introduce some vocabularies. As usual, we call $(\P,\leq,1)$ a \emph{partial order} (in the theory of forcing, this is sometimes also called a \emph{forcing}/\emph{forcing partial order}) if $\P$ is a set, $\leq$ is a reflexive, transitive, antisymmetric relation, and $1$ is the largest element. Elements of $\P$ are called \emph{conditions}; if $p \leq q$, we say \emph{$p$ is stronger than $q$}.\footnote{This is the standard convention; in Jerusalem there are attempts to revert the order of partial order, so we have a minimum element 0 and $\geq$ means stronger. Unfortunately, this hasn't helped literature: the group in Jerusalem has considerable size of population, so now there are two opposing set of conventions being used in literature. In particular, if you read a paper, you have to first find out which set of conventions is used before anything could make sense.}\\
As usual, $C \subseteq \P$ is called a \emph{chain} if $(C,\leq)$ is a total order. If $p,q \in \P$, say that $p$ and $q$ are \emph{incompatible} $(p \perp q)$ if there is no $r \leq p, r \leq q$.\\
$A \subseteq \P$ is called \emph{antichain} if $\forall p,q \in A, p \neq q \to p \perp q$.\\
We say that $\P$ has the countable chain condition (ccc) if every \emph{antichain} in $\P$ is countable.\\
If $D \subseteq \P$, we say $D$ is \emph{dense} if $\forall p \in \P$ $\exists q \in D q \leq p$.\\
If $F \subseteq \P$, we say $F$ is a \emph{filter} if \\
(a) $\forall p \in F \forall q (q \geq p \to q \in F)$;\\
(b) $\forall p,q \in F \exists r \in F r \leq p,q$.\\
We say $\P$ is \emph{splitting} if for all $p \in \P$, $\exists q_1,q_2 \in \P$, $q_1,q_2 \leq p$ and $q_1 \perp q_2$.\\
If $\mathcal{D}$ is a set of dense sets and $G \subseteq \P$, we say $G$ is \emph{$\mathcal{D}$-generic} if $\forall D \in \mathcal{D}$, $(D \cap G \neq \phi)$.

\begin{eg} (1, Cohen forcing)\\
Let $\P := \{p: p$ is a partial function from $\N$ to $2$ with finite domain$\}$. Define $p \leq q \iff p \supseteq q$ (so domain of $p$ covers domain of $q$ and they agree on domain of $q$). Of course here $1$ is the empty function.\\
If $p\perp q$, then there is $n \in dom(p) \cap dom(q)$ s.t. $p(n) \neq q(n)$.\\
If $F$ is a filter in $\P$, then $\bigcup F$ is a partial function from $\N$ into $2$ (think very carefully).\\
Consider $D_n:=\{p:n \in dom(p)\}$. This is a dense set for every $n$: given any $q$, if $q$ is defined on $n$ then it's already in $D_n$; else we could just define it in $n$ (by any value) and get an element in $D_n$ that is stronger than it. Now define $\mathcal{D}:=\{D_n: n \in \N\}$. If $F$ is $\mathcal{D}$-generic, then $\bigcup F: \N \to 2$ is a total function. Note that in this way we could have defined the real numbers.
\end{eg}

\begin{eg} (2)\\
Let $\P_X := \{p:p$ is a partial function from $\N$ to $X$ with finite domain$\}$, where $X$ is any set.\\
As before: if $F$ is a filter, $\bigcup F$ is a partial function; if $F$ is $\mathcal{D}$-generic, $\bigcup F:\N \to X$ is a total function.\\
Let's add some more dense sets: consider $E_X:=\{p:x \in ran(p)\}$ for every $x \in X$ (in some sense the dual to $D_n$). Let $\mathcal{D}^* := \mathcal{D} \cup \{E_x: x \in X\}$.\\
Suppose $G$ is $\mathcal{D}^*$-generic filter. So in particular $\bigcup G$ is a total function $\N \to X$. But now for every $x \in X$, $E_x \cap G \neq \phi$. So there's some $p \in G$ with $x \in ran(p)$. So $\bigcup G$ is a surjection $\N \to X$. Therefore $G$ cannot exist for uncountable $X$.
\end{eg}

If $M$ is a transitive model of ZFC, and $\P \in M$ is a partial order, we say that a filter $G$ (not necessarily an element of $M$) is \emph{generic over $M$}, if it is $\mathcal{D}$-generic for $\mathcal{D}:=\{D \in M: D$ is dense in $\P\}$.

\begin{lemma}
Suppose $\P$ is splitting, $\P \in M$ and $M$ is a transitive model of ZFC. Suppose $G$ is $\P$-generic filter over $M$. Then $G \not\in M$.\\
This is exactly what we've seen in example 2 above.
\begin{proof}
Suppose $G \in M$. Then $D = \P\setminus G \in M$. We claim that $D$ is dens. Take $p \in \P$ arbitrary. By splitting, find $q_1,q_2 \leq p$, $q_1 \perp q_2$. So $q_1,q_2$ cannot be both in $G$ because $G$ is a filter. So by definition $G\cap D = G \cap \P \setminus G \neq \phi$, contradiction.
\end{proof}
\end{lemma}

---Lecture 15---

Last time we had the notion of $\P$ being a filter, being $\mathcal{D}$-generic, being $\P$-generic over $M$, and being splitting. We also proved a lemma that if $M$ is a transitive model of ZFC, $\P \in M$, $G$ a $\P$-generic filter of $M$, $\P$ splitting, then $G \not\in M$. We looked at two examples (one of them is a special example of another).

\begin{lemma}
If $\mathcal{D}$ is countable set of dense sets, $p \in \P$, then there is a $\mathcal{D}$-generic filter $G$ over $\P$ s.t. $p \in G$.
\begin{proof}
Let $\mathcal{D} = \{D_n:n \in \N\}$. Define recursively:\\
$\bullet$ $p_0:=p$;\\
Suppose $p_0 \geq p_1 \geq ... \geq p_n$ are already defined. By definition, $D_n$ has an element $q$ s.t. $q \in D_n, q \leq p_n$, and set $p_{n+1}:=q$.\\
Now consider $X := \{p_n:n \in \N\} \subseteq \P$. Note that if $p_n,p_k \in X$, then $p_{\max(n,k)} \leq p_n,p_k$. So this does generate a filter
\[
G:=\{p: \exists n p_n \leq p\}
\]
which clearly intersect $D_n$ non-trivially for each $n$.
\end{proof}
\end{lemma}

\begin{coro}
If $M$ is a countable transitive model of set theory, $p \in \P \in M$, then there is a $\P$-generic filter $G$ over $M$ with $p \in G$.
\begin{proof}
If $\P \in M$, then $\P$ is countable. Now look at
\[
\{D \subseteq \P: D \text{ is dense}, D \in M\} \subseteq \mathcal{P}^M(\P)
\]
the $n^{th}$ power set of $\P$. So this is countable as well.
\end{proof}
\end{coro}

\subsection{Forcing language}

Fix $M$ a transitive model of set theory, with a partial order $\P$. Define\\
$\bullet$ $Name_0(M,\P) = \phi$;\\
$\bullet$ for $\lambda >0$, set $Name_\lambda(M,\P)$ to be 
\[
\{\tau: \text{ each element of } \tau \text{ is an ordered pair } (\sigma,p), \sigma \in Name_\alpha(M,\P) \text{ for some } \alpha < \lambda, p \in \P\}
\]
The elements of 
\[
M^\P:=\bigcup_{\lambda \in Ord \cap M} Name_\lambda(M,\P)
\]
are called $\P$-names.

\begin{eg}
The most basic example is $\P=\{1\}$. We can see that $\phi$ is a name (at the first level), $\{(\phi,1)\}$ is a name (which in some sense represents $\{\phi\}$), etc. This results in (an isomorphic copy) of the von Neumann hierarchy inside $M$.
\end{eg}

\begin{eg}
Another basic example is $\P=\{1,L,R\}$, where $L \leq 1$ and $R \leq 1$. The dense sets are $\{1,L,R\}$ and $\{L,R\}$.\\
What are filters? Filters are closed upwards and do not contain anything incompatible. There are exactly one pair of incompatible things, namely $L,R$. So the filters are $\{1\}$, $\{1,L\}$ and $\{1,R\}$.\\
What are generic filters? $\{1\}$ doesn't intersect $\{L,R\}$, so only the other two are generic filters.

For names, $\phi$ is a name at the first level; at the next level we have $(\phi,1)$, $(\phi,L)$ and $(\phi,R)$; at the next level we have $\{(\phi,1)\}$, $\{(\phi,L)\}$, $\{(\phi,R)\}$, $\{(\phi,1),(\phi,L)\}$, $\{(\phi,1),(\phi,R)\}$, $\{(\phi,L),(\phi,R)\}$, $\{(\phi,1),(\phi,R),(\phi,L)\}$.
\end{eg}

Interpretation of names: let $\P,M$ be as before, and let $G$ be $\P$-generic over $M$ (the definition actually makes sense for any $G \subseteq P$).\\
If $\tau \in Name(M,\P)$, we define the $G$-value of $\tau$
\[
val(\tau,G) := \{val(\sigma,G): \exists p \in G, (\sigma,p) \in \tau\}
\]
Using this, we can now define $M[G] := \{val(\tau,G): \tau \in Name(M,\P)\}$.

Observation: if $N$ is a transitive model of ZFC s.t. $M \subseteq N$, and $G \in N$, then $M[G] \subseteq N$. Also note that if we can prove $M[G] \vDash ZFC$, this would then be a minimality theorem.

Back to our previous example 2. We had 8 names there. Let's start with $\phi$. What is $val(\phi,G)$? There are no elements of $\tau$, so $val(\phi,G) = \phi$ and is completely independent of what $G$ is. So at least the empty set has the correct name.\\
If $\tau$ is any of the other 7 names, and $(\sigma,p) \in \tau$, then $\sigma = \phi$ by our previous listing. So there are only two possibilities
\[
val(\tau,G) = \left\{\begin{array}{ll}
\phi\\
\{\phi\}=1
\end{array}
\right.
\]
Of course, this now depends on which filter we choose. For convenience we set $\tau_L = \{(\phi,L)\}$ and $\tau_R = \{(\phi,R)\}$. Consider $G_L = \{1,L\}$ and $G_R = \{1,R\}$. Not entirely surprisingly we get
\[
val(\tau_L,G_L) = \{\phi\}\\
val(\tau_L,G_R) = \phi
\]
because $L \in G_L$ but $L \not\in G_R$. The case is similar for $val(\tau_R,\cdot)$.\\
Note that even without specifying the filter, we know $val(\tau_L,G)$ is a subset of $\{\phi\}=1$. There are only two subsets of $1$, namely $0$ and $1$, and we need to specify the filter to know which one it is.\\
We see from this example that the name is not unique: in the model built by $G_R$, both $\phi$ and $\tau_L$ name $\phi$. So in particular we cannot say something like 'take \emph{the} name of something'.

\begin{defi}
Let $x \in M$. We define the \emph{canonical name for $x$} by recursion:
\[
\check{x} := \{(\check{y},1):y \in x\} \in M
\]
\end{defi}

\begin{prop}
For any $G$ s.t. $1 \in G$, we have $val(\check{x},G) = x$ (proof is by $\in$-induction).
\end{prop}

\begin{coro}
$M \subseteq M[G]$.
\end{coro}

This should tell us what we want next: we want to show $G \in M[G]$. Note that all of the names are elements of $M$, so we can't do the same for $G$ as it's not an element of $M$.

---Lecture 16---

Note: there is no canonical name for the generic filter $G$ in $M$. It would be something like
\[
'\check{G}' := \{(\check{p},1): p \in G\}
\]
Of course we can define this in the surrounding universe; but it is not a name in $M$. This 'name' has the property that $'\check{G}' \in N \iff G \in N$.\\
Last time we proved that if $M$ is transitive, $G$ is $\P$-generic over $M$, then $val(\check{x},G) = x$. (For this, we do not need $G$ to be $\P$-generic, but only $1 \in G$.\\
As a consequence, we know $M \subseteq M[G]$.

\begin{defi}
\[
\Gamma := \{(\check{p},p): p \in \P\}
\]
\end{defi}

\begin{lemma}
$val(\Gamma,G) = G$.
\begin{proof}
Suppose $x \in val(\Gamma,G)$. By definition, $x=val(\check{p},G)$ for some $p \in \P$ with $p \in G$. Then in fact $x=p$. So $x \in G$.\\
Suppose $x \in G$. Then $(\check{x},x) \in \Gamma$. But $x \in G$, $x = val(\check{x},G) \in val(\Gamma,G)$. So $x \in val(\Gamma,G)$.
\end{proof}
\end{lemma}

\begin{coro}
If $M$ is transitive, then $G \in M[G]$.
\end{coro}

Now both elements of $M$ and $G$ are in $M[G]$. But does $M[G]$ satisfy enough set theory?

\begin{lemma}
$M[G]$ is transitive.
\begin{proof}
To show: $x \in y \in M[G] \implies x \in M[G]$.\\
$y \in M[G]$ means $\exists \tau \ y = val(\tau,G)$.\\
$x \in y$ means $\exists \sigma,p$, $p \in G$, $(\sigma,p) \in \tau$ and $x = val(\sigma,G)$. Thus $x \in M[G]$.
\end{proof}
\end{lemma}

\begin{coro}
$M[G] \vDash$ Extensionality and Foundation.
\end{coro}

Let's look at pairing: suppose $x,y \in M[G]$, and $\tau,\sigma$ evaluates to $x,y$ respectively in $G$ ($x=val(\tau,G)$, etc). Construct
\[
\mu_{\sigma,\tau}:=\{(\sigma,1),(\tau,1)\}
\]
Now try to evaluate it: $1$ is always in the filter $G$, so
\[
val(\mu_{\sigma,\tau},G) &= \{val(\sigma,G),val(\tau,G)\}\\
&= \{x,y\}
\]

So
\begin{prop}
$M[G] \vDash$ Pairing.
\end{prop}
We'll stress again that the above name is not unique. For example, we could add any $(\sigma,p)$ for $p \in G$, or any $(\mu,q)$ if $q \not\in G$; also the choice of $\tau$ and $\sigma$ is not unique.

On Sheet 3, we'll see Union; so as a corollary, since $\check{\omega} \in M^\P$, $val(\check{\omega,G}) = \omega$ we get $M[G] \vDash$ infinity.

\begin{lemma}
If $\tau \in M^\P$, then 
\[
\rho(val(\tau,G)) \leq \rho(\tau)
\]
where $\rho$ is the rank function.
\begin{proof}
Simple induction.
\end{proof}
\end{lemma}
In particular, there can't be any new ordinals, as any new ordinal cannot have an existing rank. So
\begin{coro}
$Ord \cap M = Ord \cap M[G]$.
\end{coro}

How about power set? Let $x \in M[G]$. Take a name $\tau \in M^\P$ for it. Why not just take all the first components of elements of $\tau$, and do it the same way as we did for pairing? The problem is that names are not unique; for example we could have $val(\sigma,G)=val(\bar{\sigma},G)$, where $\bar{\sigma}$ doesn't occur in $\tau$. Now $\{(\bar{\sigma},p)\}$ \emph{is} name of some subset of $x$, but we wouldn't know it from looking at $\tau$. It would be nice to be able to talk about whether a name $\sigma$ is a name for a subset if $val(\tau,G)$ without referring to the precise set-theoretic make-up of $\tau$ and $\sigma$.

\subsection{Forcing Relation}

We had \emph{Forcing Language} on the board previously without saying what it actually is, so let's talk about it now. The forcing language is just $L_\in$ augmented with one constant symbol for each $\tau \in M^\P$.\\
If $G$ is $\P$-generic over $M$, there is a canonical interpretation of $L(M^\P)$ in $M[G]$
\[
M[G] \vDash \varphi(\tau_1,...,\tau_n) \iff M[G] \vDash \varphi(val(\tau_1,G),...,val(\tau_n,G))
\]

If $\varphi$ is a sentence of $L(M^\P)$, and $p \in \P$, then we say $p\Vdash \varphi$ ($p$ forces $\varphi$ in $M$): For every $\P$-generic filter $G$ over $M$ s.t. $p \in G$, $M[G] \vDash \varphi$.

Note that this looks to be helpful, but if we look carefully at it, it's entirely not obvious that this relation is even definable in $M$: we had \emph{for every $\P$-generic filter $G$ over $M$}, but we knew no such $G$ is in $M$! However, we have:

\begin{thm} (Forcing theorem)
The following are equivalent:\\
(1) $M[G] \vDash \varphi$;\\
(2) $\exists p \in G (p \Vdash \varphi)$
\end{thm}

\begin{thm}
The forcing relation is definable in $M$, in the sense that:\\
There is a definable relation $p \Vdash^* \varphi$ s.t. $\forall p,\varphi$, $p \Vdash \varphi \iff p \Vdash^* \varphi$.
\end{thm}

\newpage

\section{Example Class 1}

\subsection{Question 1}

The answer to this question really depends on how we formulate the axioms. For example, the pairing axiom
\[
    \forall x \forall y \exists p \forall z (z \in p \leftrightarrow z = x \vee z = y)
\]
is sometimes formulated with the $\leftrightarrow$ changed to $\to$, but of course they are equivalent with extensionality.

So there is no definite answer to this question; the message I want to convey here is that the axioms really only make sense when you have a set of those.

\subsection{Question 2}
Note that (a) is not $\Delta_0$, although it is $\Delta_0$ under some first order logic.

\subsection{Question 3}
(d) if $z$ is a function then $\mathcal{P}(\bigcup\bigcup z)$ is enough to bound the range and domain of the function.

\subsection{Question 6}
Example given on lecture: $X=\{(x,y): x< \omega y \in \{0,1\}\}$;\\
$R=\{(a,b) : a,b = X, a=(a_1,a_2), b=(b_1,b_2), (b_2=a_2 \wedge a_1<b_1) \vee (b_2 > a_2)\}$. Both of them are in $V_{\omega +1}$, and $(X,R) \in V_{\omega+4}$ or so.

\subsection{Question 8}
The general case is the fixed point theorem for normal functions. A normal function is a function $F:Ord \to Ord$ that is\\
$\bullet$ increasing: $\forall \alpha$ $\alpha < F(\alpha)$;\\
$\bullet$ continuous: $\forall \lambda$ limits, $F(\lambda) = \cup_{\alpha < \lambda} F(\alpha)$.

Define $\gamma_0 := \gamma$, $\gamma_{n+1} := F(\gamma_n)$, $\gamma_\omega := \bigcup_{n \in \N} F(\gamma_n)$. We basically just need to check that the fixed point happens at the third case (so that the cofinality is $\omega$).

\subsection{Question 9}
(crude notes on board) $\kappa$ is uncountable and regular. So we know $H_\kappa \vDash ZFC-PowerSet$, $V_\kappa \vDash ZFC-Replacement$. Let $\lambda < \kappa$ be a cardinal. Then $\lambda \in H_\kappa$ and every subset of $\lambda$ is in $H_\kappa$. So $H_\kappa \vDash Powerset \implies P(\lambda) \in H_\kappa$, and $|P(\lambda)| \leq |tcl(P(\lambda))| < \kappa$. So $\kappa$ is a strong limit.

\subsection{Question 10}

Remember Hartog's theorem: $\forall x \exists \alpha$ a ordinal s.t. there is no injection from $\alpha$ into $X$; remember that this is true in ZF.\\
Let $\Omega := \{R: R$ is a binary relation on $X, (X,R)$ is a well-order$\}$,\\
$\bar{\Omega} := \{\alpha: \exists R \in \Omega, (\alpha,\in)\cong (X,R)\}$.

Note that this also tells us that, if we have two models of set theory which agree on real numbers, then they agree on the size of $\aleph_1$.

\subsection{Question 11}
It's worth notice that $\Phi$ is not absolute in general (because we need strong limit for inaccessible cardinals).\\
For the last part just take $V_{\kappa_2}$. Also note that the statement holds for any finite number, or even countably many.

We can consider other set theories like $ZFC+\infty IC$: $\forall \alpha \exists \kappa > \alpha$ s.t. $\kappa$ is inaccessible, or ZFC+ there is a cardinal $\kappa$ which is inaccessible and $\forall \lambda < \kappa \exists \lambda < \kappa' < \kappa$ s.t. $\kappa'$ is inaccessible (so $\kappa$ is an inaccessible limit of inaccessible cardinals).

\subsection{Question 12}
The idea is almost the same as the one we looked in class: build the Skolem Hull starting from quantifier-free formulas, adding witnesses of existential formulas at each step. By induction we get a countable elementary substructure. Now instead of that, for each step in building the skolem hull we take the $V_{\alpha_i}$ s.t. our structure is contained in $V_{\alpha_i}$. By regularity of $\kappa$ we know we won't reach $V_\kappa$ in the end, say our supremum is $\alpha_\omega$. Note that it's possible that we've hit an inaccessible cardinal en route. So we need to ensure that we go up by at least one level at each stage to ensure that we're actually moving. Then use similar argument as q8.

\newpage

\section{Example Class 2}

\subsection{Question 15}

One major problem is that we can't refer to truth of existential formulas to decide whether we want to add witnesses. This is one of the googlable things so lecturer decided not to spend half an hour on this. This is closely related to q16.

\subsection{Question 20}
Note that if $x$ is infinite, then $L_0(x) = |x|$, $L_1(x) = \mathcal{D}(x)$ still has cardinality $|x|$, and so on; and at $L_\omega(x)$ still has cardinality $|x| = \aleph_0$.\\
What if $x$ is not countable? If $|x| = \aleph_1$, we then have $L_0(x) = ... = L_\omega(x)=\aleph_1$, and it keeps this cardinality at $L_{\omega_1}(x)$, and only changes to $\aleph_2$ at $L_{\omega_2}(x)$.

This is instructive enough for question 21.

\subsection{Question 22}

The given statement is equivalent to $\forall X \in L_\kappa$ s.t. $V \vDash X$ is countable (regularity is downward absolute); $\P^{L_\kappa}(X)$ is also countable. Let $\alpha \in L_\kappa$ be countable (in $V$), and a  cardinal in $L_{\kappa}$. $x \subseteq \omega$ codes a well-ordering of $\omega$ of type $\alpha$. $L(x) \vDash \alpha$ is countable; using the form of condensation lemma we had in q21 we get $L(x) \vDash CH$. So $\aleph_1^{L(x)} = |\P(\omega)|^{L(x)} = |\P(\alpha)|^{L(x)} \geq 
|\P^{L_\kappa}(\alpha)|^{L(x)}$. LHS is countable, so the last expression is also countable.

\end{document}
